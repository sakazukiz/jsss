(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{9104:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return a(13675)}])},91650:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/contact-support.cbc8679f.gif",height:150,width:150,blurWidth:0,blurHeight:0}},82886:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/ketupat.d02af616.gif",height:150,width:150,blurWidth:0,blurHeight:0}},62764:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/lightning.f56faa6d.gif",height:150,width:150,blurWidth:0,blurHeight:0}},80626:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/secure.d47b2cba.gif",height:140,width:150,blurWidth:0,blurHeight:0}},44352:function(e,t,a){"use strict";a.d(t,{C:function(){return Badge}});var n=a(85893),i=a(45139);a(67294);var s=a(82863);let l=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"text-foreground",success:"border-success bg-success/20 text-success-foreground hover:bg-success/50",warning:"border-warning bg-warning/20 text-warning-foreground hover:bg-warning/50",info:"border-info bg-info/20 text-info-foreground hover:bg-info/50",destructive:"border-destructive bg-destructive/20 text-destructive-foreground hover:bg-destructive/50",member:"border-sky-500 bg-sky-500/20 text-sky-900 hover:bg-sky-400/20 dark:bg-sky-400/10 dark:text-sky-400",silver:"border-white/60 bg-white/50 hover:bg-white/80",gold:"border-yellow-500 bg-yellow-500/20 text-yellow-900 hover:bg-yellow-400/20 dark:bg-yellow-400/10 dark:text-yellow-500",vip:"border-purple-500 bg-purple-500/20 text-purple-900 hover:bg-purple-400/20 dark:bg-purple-400/10 dark:text-purple-400"},size:{icon:"p-1"},shape:{pill:"rounded-full",square:"rounded-md"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:a,size:i,shape:r,...o}=e;return(0,n.jsx)("div",{className:(0,s.cn)(l({variant:a,size:i,shape:r}),t),...o})}},36635:function(e,t,a){"use strict";a.d(t,{d:function(){return useOverview},j:function(){return useAffiliateOverview}});var n=a(71662),i=a(36492),s=a(30381),l=a.n(s),r=a(63736);let useOverview=e=>{let{REGION:t}=(0,r.E)();return(0,i.a)({...e,queryKey:["overview",t],queryFn:async()=>{let{data:e}=await n.h.get("/overview",{params:{filter:"date:>=".concat(l()().format("YYYY-MM-DD"),",date:<=").concat(l()().add(1,"day").format("YYYY-MM-DD")),region:t.toUpperCase()}});return e.data},keepPreviousData:!1,refetchOnWindowFocus:!1})},useAffiliateOverview=(e,t)=>{let{REGION:a}=(0,r.E)();return(0,i.a)({...t,queryKey:["affiliate-overview",e,a],queryFn:async()=>{let{data:t}=await n.h.get("/affiliate",{params:{filter:e,region:a.toUpperCase()}});return t.data},keepPreviousData:!1,refetchOnWindowFocus:!1,retry:!1})}},96145:function(e,t,a){"use strict";a.d(t,{I:function(){return usePayments}});var n=a(71662),i=a(36492),s=a(63736);let usePayments=(e,t)=>{let{REGION:a}=(0,s.E)();return(0,i.a)({queryKey:["payment-channel",a],queryFn:async()=>{let{data:t}=await n.h.get("/payment-channel",{params:{...e,region:a.toUpperCase()}});return t.data},keepPreviousData:!1,refetchOnWindowFocus:!1,onSuccess:null==t?void 0:t.onSuccess})}},13675:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return tn},default:function(){return ti}});var n=a(85893),i=a(65221),s=a.n(i),l=a(71662),r=a(32511),o=a(63815),d=a(51310),c=a(65861),u=a(96226),m=a(96145),x=a(72063),v=a(48228),p=a(59403),h=a(63736);let usePromo=e=>{let{REGION:t}=(0,h.E)();return(0,v.D)({mutationKey:["promo"],mutationFn:async e=>{let{data:a}=await l.h.post("/inquiry/promo",{...e,region:t.toUpperCase()});return a},...e})},useCouponAvailable=(e,t)=>{let{REGION:a}=(0,h.E)();return(0,p.N)({queryKey:["coupon-available",e,a],queryFn:async t=>{let{pageParam:n=1}=t,{data:i}=await l.h.get("/promo/".concat(e),{params:{page:n,region:a.toUpperCase()}});return i},refetchOnWindowFocus:!1,getNextPageParam:e=>e.data.length>0?e.pagination.page+1:void 0,...t})};var g=a(87793),f=a(51993),j=a(46596),y=a(65619),b=a(76473),N=a(82186),w=a(1604);let k=w.z.object({variant:w.z.object({id:w.z.number().optional(),code:w.z.string().optional(),name:w.z.string().optional(),currency:w.z.string().optional(),price:w.z.number().optional(),originalPrice:w.z.number().optional(),sectionName:w.z.string().optional(),image:w.z.string().optional(),info:w.z.string().optional(),processTime:w.z.number().optional()}).superRefine((e,t)=>{if(!e.code)return t.addIssue({code:w.z.ZodIssueCode.custom,message:"Silahkan pilih nominal yang ingin dibeli terlebih dahulu."})}),useInput:w.z.boolean().default(!1),input:w.z.array(w.z.object({name:w.z.string(),title:w.z.string(),value:w.z.string(),type:w.z.string(),options:w.z.array(w.z.object({title:w.z.string(),value:w.z.string()})),maxLength:w.z.number(),minLength:w.z.number(),regexValidation:w.z.string(),placeholder:w.z.string().optional()})),quantity:w.z.coerce.number().min(1,"Jumlah minimal adalah 1"),payment:w.z.object({id:w.z.number().optional(),code:w.z.string().optional(),name:w.z.string().optional(),description:w.z.string().optional(),image:w.z.string().optional(),feeAmount:w.z.number().optional(),feePercentage:w.z.number().optional(),minAmount:w.z.number().optional(),maxAmount:w.z.number().optional(),type:w.z.object({id:w.z.number(),name:w.z.string(),description:w.z.string()}).optional(),instruction:w.z.string().optional()}).superRefine((e,t)=>{if(!e.code)return t.addIssue({code:w.z.ZodIssueCode.custom,message:"Silahkan pilih metode pembayaran terlebih dahulu."})}),promo:w.z.object({code:w.z.string().optional(),amount:w.z.number().optional()}),usePhoneNumber:w.z.boolean().default(!1),usePhoneNumberMandatory:w.z.boolean().default(!1),useEmail:w.z.boolean().default(!1),useEmailMandatory:w.z.boolean().default(!1),contact:w.z.object({phoneNumber:w.z.string().optional(),email:w.z.string().optional()})}).superRefine((e,t)=>{let a=e.input.every(e=>""===e.value);return a&&e.useInput?t.addIssue({code:w.z.ZodIssueCode.custom,message:"Silahkan isi data akun terlebih dahulu.",path:["input"]}):e.useEmail&&e.useEmailMandatory&&""===e.contact.email?t.addIssue({code:w.z.ZodIssueCode.custom,message:"Email tidak boleh kosong",path:["contact"]}):e.usePhoneNumber&&e.usePhoneNumberMandatory&&void 0!==e.contact.phoneNumber&&e.contact.phoneNumber.length<=5?t.addIssue({code:w.z.ZodIssueCode.custom,message:"Nomor WhatsApp tidak boleh kosong",path:["contact"]}):void 0});var S=a(96608),A=a(17690),z=a(28368),C=a(11355),I=a(25712),T=a(45377),P=a(61014),F=a(13828),L=a(85700),q=a(88034),E=a(8960),D=a(86493),V=a(63201),M=a(15212),_=a(39883),O=a(86010),R=a(47041),Z=a(16735),B=a(69260),U=a.n(B),H=a(9560),G=a(82701),W=a(56989),K=a(42297),J=a(57407),Y=a(41352),$=a(73106),X=a(30381),Q=a.n(X),ee=a(53756),et=a(87536),ea=a(86501),en=a(64529),ei=a(67294),es=a(9008),el=a.n(es),er=a(25675),eo=a.n(er),ed=a(11163),ec=a(65709),eu=a(66265),em=a(36635),ex=a(13524),ev=a(64712),ep=a(60802);function AffiliateButton(){let[e]=ei.useState(["user_affiliate_earning.date:>=".concat((0,ex.Z)(new Date,"yyyy-MM-dd")),"user_affiliate_earning.date:<=".concat((0,ex.Z)(new Date,"yyyy-MM-dd"))].join(",")),{data:t}=(0,em.j)(e);return(0,n.jsx)(ep.z,{type:"button",variant:"secondary",onClick:()=>{let e=new URL(window.location.href);navigator.clipboard.writeText("".concat(e.origin).concat(e.pathname,"?r=").concat(null==t?void 0:t.code)),ev.Am.success("Link Affiliate Copied")},children:"Copy Link Affiliate to Share"})}let eh=(0,ei.memo)(e=>{let{children:t,className:a="",colors:i=["#FF0080","#7928CA","#0070F3","#38bdf8"],speed:s=1}=e,l={backgroundImage:"linear-gradient(135deg, ".concat(i.join(", "),", ").concat(i[0],")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animationDuration:"".concat(10/s,"s")};return(0,n.jsxs)("span",{className:"relative inline-block ".concat(a),children:[(0,n.jsx)("span",{className:"sr-only",children:t}),(0,n.jsx)("span",{className:"relative animate-aurora bg-[length:200%_auto] bg-clip-text text-transparent",style:l,"aria-hidden":"true",children:t})]})});eh.displayName="AuroraText";var eg=a(5368),ef=a(82863);let BackgroundGradient=e=>{let{children:t,className:a,containerClassName:i,animate:s=!0}=e,l={initial:{backgroundPosition:"0 50%"},animate:{backgroundPosition:["0, 50%","100% 50%","0 50%"]}};return(0,n.jsxs)("div",{className:(0,ef.cn)("group relative p-[4px]",i),children:[(0,n.jsx)(eg.E.div,{variants:s?l:void 0,initial:s?"initial":void 0,animate:s?"animate":void 0,transition:s?{duration:5,repeat:1/0,repeatType:"reverse"}:void 0,style:{backgroundSize:s?"400% 400%":void 0},className:(0,ef.cn)("absolute inset-0 z-[1] rounded-2xl opacity-60 transition duration-500 will-change-transform group-hover:opacity-100","bg-[linear-gradient(90deg,hsl(var(--primary))_0%,hsl(var(--primary))_100%)]")}),(0,n.jsx)(eg.E.div,{variants:s?l:void 0,initial:s?"initial":void 0,animate:s?"animate":void 0,transition:s?{duration:5,repeat:1/0,repeatType:"reverse"}:void 0,style:{backgroundSize:s?"400% 400%":void 0},className:(0,ef.cn)("absolute inset-0 z-[1] rounded-2xl will-change-transform","bg-[linear-gradient(90deg,hsl(var(--primary))_0%,hsl(var(--primary))_100%)]")}),(0,n.jsx)("div",{className:(0,ef.cn)("relative z-10",a),children:t})]})};var ej=a(79511),ey=a(77501),eb=a(32858),eN=a(85711),ew=a(55057),ek=a(73536),eS=a(69854),eA=a(52231),ez=a(71473),eC=a(93327),eI=a(84353),eT=a(79758),eP=a(49275),eF=a(85764),eL=a(9684),eq=a(8927),eE=a(75823),modal_coupon_list=e=>{var t;let{children:a,code:i,handleCode:s,productId:l}=e,[r,o]=ei.useState(!1),onClose=()=>{o(!1)},{data:d,isFetching:c,refetch:u}=useCouponAvailable(l,{enabled:!1,onSuccess:()=>{o(!0)}});return(0,n.jsxs)(n.Fragment,{children:[a({openModal:async()=>{await u()},isLoading:c}),(0,n.jsx)(eI.u,{show:r,onClose:onClose,maxWidth:"md",title:"Promo yang tersedia",children:(0,n.jsx)("div",{className:"px-4 pb-4",children:(0,n.jsxs)(A.E,{value:i,onChange:e=>s(e),children:[(0,n.jsx)(A.E.Label,{className:"sr-only",children:"Promo Code"}),(0,n.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-4",children:null==d?void 0:null===(t=d.pages)||void 0===t?void 0:t.map((e,t)=>{var a,i;return(0,n.jsx)(ei.Fragment,{children:(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.length)>0?null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.map((e,t)=>(0,n.jsx)(A.E.Option,{value:e.code,disabled:!e.available,onClick:()=>{onClose()},className:e=>{let{active:t,disabled:a}=e;return(0,ef.cn)(t?"border-success ring-2 ring-success":"border-murky-300",a?"cursor-not-allowed !border-transparent bg-muted opacity-50":"bg-muted","relative flex cursor-pointer rounded-lg border p-4 shadow-sm focus:outline-none")},children:t=>{let{checked:a,active:i}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"flex flex-1",children:(0,n.jsxs)("span",{className:"flex flex-col",children:[(0,n.jsx)(A.E.Label,{as:"span",className:"block text-sm font-semibold text-primary",children:e.promoPercentage>0?"Diskon hingga ".concat(e.promoPercentage,"%"):"Diskon sebesar Rp. ".concat((0,eE.lb)(e.promoFlat))}),(0,n.jsxs)("div",{className:"pt-2",children:[(0,n.jsxs)(A.E.Description,{as:"span",className:"mt-1 flex items-center gap-x-2 text-xs text-foreground",children:[(0,n.jsx)(eT,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Promo berlaku hingga ",(0,eL.Z)(new Date(e.expiredAt),"dd/MM/yyyy")]})]}),(0,n.jsxs)(A.E.Description,{as:"span",className:"mt-1 flex items-center gap-x-2 text-xs text-foreground",children:[(0,n.jsx)(eP,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Minimum pembelian Rp. ",(0,eE.lb)(e.minAmount)]})]}),(0,n.jsxs)(A.E.Description,{as:"span",className:"mt-1 flex items-center gap-x-2 text-xs text-foreground",children:[(0,n.jsx)(eP,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Batas penggunaan ",e.maxUsagePerId," kali untuk setiap akun."]})]}),!e.available&&(0,n.jsxs)(A.E.Description,{as:"span",className:"mt-1 flex items-start gap-x-2 text-xs text-foreground",children:[(0,n.jsx)("div",{children:(0,n.jsx)(eP,{className:"h-4 w-4"})}),(0,n.jsx)("span",{children:e.note})]})]}),(0,n.jsxs)(A.E.Description,{as:"span",className:"mt-3 text-xs font-medium text-primary",children:["Kode Promo: ",(0,n.jsx)("span",{className:"font-semibold",children:e.code})]})]})}),(0,n.jsx)(eF,{className:(0,ef.cn)(a?"":"invisible","h-5 w-5 text-success"),"aria-hidden":"true"}),(0,n.jsx)("span",{className:(0,ef.cn)(i?"border":"border-2",a?"border-success":"border-transparent","pointer-events-none absolute -inset-px rounded-lg"),"aria-hidden":"true"}),(0,n.jsx)("span",{className:(0,ef.cn)("absolute bottom-2 right-2 rounded-md px-2 py-1 text-xs font-medium text-foreground",e.available?"bg-success":"bg-destructive"),children:e.available?"Tersedia":"Tidak Tersedia"})]})}},t)):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-md border border-dashed border-border/50 py-8",children:[(0,n.jsx)(eq.Z,{className:"size-5"}),(0,n.jsx)("p",{className:"pt-2 text-center text-sm/6 font-semibold",children:"No promo available!"}),(0,n.jsx)("p",{className:"text-center text-sm/6 font-semibold",children:"Please check back later!"})]})},t)})})]})})})]})};let ModalInfoVariant=e=>{let{image:t,name:a,content:i,isOpen:s,handleConfirm:l,handleClose:r}=e;return(0,n.jsxs)(eI.u,{show:s,maxWidth:"2xl",title:a,classNameHeader:"text-lg uppercase mt-1",closeable:!1,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[!!t&&(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(eo(),{src:t,alt:a,width:100,height:100})}),(0,n.jsx)("div",{className:"prose prose-sm flex w-full flex-col rounded-xl border border-dashed px-4 py-3 text-xs text-foreground prose-p:my-0",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 bg-secondary px-4 py-4",children:[(0,n.jsx)(ep.z,{type:"button",onClick:l,size:"sm",children:"OK, Saya Mengerti"}),(0,n.jsx)(ep.z,{type:"button",onClick:r,size:"sm",variant:"outline",children:"Batal"})]})]})};var eD=a(49721),eV=a(20476),eM=a(18814),e_=a(39332);function NeedHelps(){let e=(0,r.Z)()(e=>e.config),t=(0,e_.useRouter)(),a=e.support,i=a&&1===a.items.length,s=a&&0===a.items.length;return(0,n.jsx)(ModalNeedHelps,{config:e,children:e=>{let{openModal:l}=e;return(0,n.jsxs)("button",{type:"button",onClick:()=>{if(s){t.push("/contact-us");return}if(i){t.push(null==a?void 0:a.items[0].href);return}l()},className:"inline-flex items-center justify-start gap-4 rounded-xl bg-card/50 p-4 text-card-foreground shadow-2xl",children:[(0,n.jsx)(N.D0,{size:32}),(0,n.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,n.jsx)("div",{className:"text-sm font-bold",children:"Butuh Bantuan?"}),(0,n.jsx)("div",{className:"text-sm font-medium",children:"Kamu bisa hubungi admin disini."})]})]})}})}function ModalNeedHelps(e){var t,a;let{children:i,config:s}=e,[l,r]=ei.useState(!1);return(0,n.jsxs)(n.Fragment,{children:[i({openModal:()=>{r(!0)}}),(0,n.jsxs)(eI.u,{show:l,closeable:!1,maxWidth:"md",title:null===(t=s.support)||void 0===t?void 0:t.title,children:[(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2 px-4 pb-4 pt-2",children:[null===(a=s.support)||void 0===a?void 0:a.items.map(e=>(0,n.jsx)(ep.z,{type:"button",variant:"outline",asChild:!0,children:(0,n.jsxs)(eC.r,{href:e.href,children:[e.image&&(0,n.jsx)(eo(),{src:e.image,alt:"",width:32,height:32,className:"aspect-square w-5"}),(0,n.jsx)("span",{className:"pl-2",children:e.title})]})},e.href)),(0,n.jsx)(ep.z,{type:"button",variant:"outline",asChild:!0,children:(0,n.jsxs)(eC.r,{href:"/contact-us",openNewTab:!0,children:[(0,n.jsx)(eM.Z,{className:"mr-2 size-4"}),(0,n.jsx)("span",{children:"Form Hubungi Kami"})]})})]}),(0,n.jsx)("div",{className:"flex w-full justify-end px-4 pb-4",children:(0,n.jsx)(ep.z,{type:"button",variant:"destructive",onClick:()=>{r(!1)},children:"Tutup"})})]})]})}var eO=a(5098),eR=a(31608);let ModalInputInstruction=e=>{let{show:t,onClose:a,instructionHtml:i}=e,s=ei.useRef(null);(0,ed.useRouter)();let{t:l}=(0,ee.$G)(["common"]);return(0,n.jsx)(C.u.Root,{show:t,as:ei.Fragment,children:(0,n.jsxs)(eR.V,{as:"div",className:"relative z-50 font-sans",initialFocus:s,onClose:a,children:[(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80"})}),(0,n.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsxs)(eR.V.Panel,{className:"text-text-color relative transform space-y-4 overflow-hidden rounded-lg border bg-popover px-4 py-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,n.jsx)(eR.V.Title,{children:l("product-input-instruction")}),(0,n.jsx)(eR.V.Description,{className:"flex items-center gap-2 rounded-md bg-card px-4 py-2.5 text-xs/6 text-card-foreground",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:i},className:"[&>img]:max-w-full"})}),(0,n.jsx)("div",{className:"flex justify-center gap-2",children:(0,n.jsx)(ep.z,{type:"button",size:"sm",className:"w-40",onClick:()=>a(),children:l("product-input-instruction-confirm")})})]})})})})]})})};var eZ=a(33765);let ModalInquiry=e=>{let{show:t,onClose:a,handleCreateOrder:i,isLoading:s,children:l}=e,r=ei.useRef(null),[o,d]=ei.useState(!0),{t:c}=(0,ee.$G)(["common","product"]);return(0,n.jsx)(C.u.Root,{show:t,as:ei.Fragment,children:(0,n.jsxs)(eR.V,{as:"div",className:"relative z-50 font-sans",initialFocus:r,onClose:a,children:[(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80"})}),(0,n.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsxs)(eR.V.Panel,{className:"relative transform overflow-hidden rounded-lg border border-border/25 bg-background px-4 pb-4 pt-5 text-left text-foreground shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"-my-8 flex justify-center",children:(0,n.jsx)(U(),{animationData:eZ,loop:!1,style:{width:240,height:240,cursor:"default"}})}),(0,n.jsxs)("div",{className:"text-center text-sm",children:[(0,n.jsx)(eR.V.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-foreground",children:c("product:create-order")}),(0,n.jsx)(eR.V.Description,{as:"p",className:"pt-1",children:c("product:create-order-description")}),(0,n.jsx)("div",{className:"mt-2",children:l})]})]}),(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"pt-1",children:(0,n.jsx)(ek.XZ,{checked:o,onChange:e=>d(e.target.checked),className:"!h-3.5 !w-3.5"})}),(0,n.jsx)("div",{className:"text-xxs/[22px]",children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:c("product:terms-agreement",{order_now:'<span class="font-semibold text-primary">'.concat(c("product:terms-order-now"),"</span>"),terms_condition:'<a href="/terms-and-condition" class="text-primary font-semibold" target="_blank">'.concat(c("product:terms-redirect"),"</a>")})}})})]}),(0,n.jsxs)("div",{className:"mt-3 flex flex-col gap-2 sm:mt-5 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,n.jsx)(ep.z,{type:"button",size:"sm",onClick:()=>i(),isLoading:s,className:"w-full",id:"button-checkout",disabled:!o,children:c("product:order-now")}),(0,n.jsx)(ep.z,{type:"button",size:"sm",variant:"secondary",onClick:()=>a(),ref:r,className:"w-full",children:c("common:cancel")})]})]})})})})]})})},ModalSignInAlert=e=>{var t,a;let{show:i,onClose:s,config:l}=e,r=ei.useRef(null);(0,ed.useRouter)();let{t:o}=(0,ee.$G)(["common"]);return(0,n.jsx)(C.u.Root,{show:i,as:ei.Fragment,children:(0,n.jsxs)(eR.V,{as:"div",className:"relative z-50 font-sans",initialFocus:r,onClose:s,children:[(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80"})}),(0,n.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,n.jsx)(C.u.Child,{as:ei.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsxs)(eR.V.Panel,{className:"text-text-color relative transform overflow-hidden rounded-lg border bg-popover px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mx-auto flex h-10 w-10 items-center justify-center rounded-full bg-sky-700",children:(0,n.jsx)(eP,{className:"h-6 w-6 text-sky-500","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,n.jsx)(eR.V.Title,{as:"h3",className:"text-lg font-semibold leading-6",children:"Ups! Kamu Belum Login"}),(0,n.jsxs)(eR.V.Description,{as:"p",className:"pt-2 text-sm md:text-base",children:["Untuk Melakukan Pembelian Menggunakan ",null==l?void 0:null===(a=l.content)||void 0===a?void 0:null===(t=a.coin)||void 0===t?void 0:t.name,", Silahkan Login atau Daftar Terlebih Dahulu!"]})]})]}),(0,n.jsxs)("div",{className:"mt-5 grid gap-3 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,n.jsx)(ep.z,{type:"button",size:"sm",asChild:!0,children:(0,n.jsx)(eC.r,{href:"/sign-in",children:"Login"})}),(0,n.jsx)(ep.z,{type:"button",size:"sm",asChild:!0,children:(0,n.jsx)(eC.r,{href:"/sign-up",children:"Daftar"})}),(0,n.jsx)("div",{className:"col-span-2",children:(0,n.jsx)(ep.z,{type:"button",size:"sm",variant:"destructive",onClick:()=>s(),className:"w-full",children:"Cancel"})})]})]})})})})]})})};var eB=a(27239),eU=a(8167);let ProductSkeleton=()=>(0,n.jsx)("div",{className:"flex flex-col space-y-8",children:Array.from({length:3},(e,t)=>t).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"h-8 w-1/4 animate-pulse rounded-lg bg-muted/75"}),(0,n.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:12},(e,t)=>t).map(e=>(0,n.jsx)("div",{className:"h-[85px] w-full animate-pulse rounded-xl bg-muted/75"},e))})]},e))}),PaymentSkeleton=()=>(0,n.jsx)("div",{className:"flex flex-col space-y-8",children:Array.from({length:3},(e,t)=>t).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"h-10 w-full animate-pulse rounded-t-lg bg-muted/75"}),(0,n.jsx)("div",{className:"h-8 w-full animate-pulse rounded-b-lg bg-muted/80"})]},e))});var eH=a(22849);function ShowMore(e){let{htmlContent:t,maxLength:a=100}=e,[i,s]=ei.useState(!1);return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:(0,ef.cn)(i?"h-full":"h-36","overflow-hidden"),dangerouslySetInnerHTML:{__html:t}}),(0,n.jsx)("button",{type:"button",className:"mt-4 h-8 w-full text-sm text-primary outline-none",onClick:()=>s(!i),children:i?"Sembunyikan":"Baca Selengkapnya"})]})}var eG=a(20278),eW=a(48943),eK=a(8971);let eJ=eW.fC,eY=ei.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(eW.ck,{ref:t,className:(0,ef.cn)("",a),...i})});eY.displayName="AccordionItem";let e$=ei.forwardRef((e,t)=>{let{className:a,children:i,...s}=e;return(0,n.jsx)(eW.h4,{className:"flex",children:(0,n.jsxs)(eW.xz,{ref:t,className:(0,ef.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all [&[data-state=open]>svg]:rotate-180",a),...s,children:[i,(0,n.jsx)(eK.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});e$.displayName=eW.xz.displayName;let eX=ei.forwardRef((e,t)=>{let{className:a,children:i,...s}=e;return(0,n.jsx)(eW.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:(0,n.jsx)("div",{className:(0,ef.cn)("pb-4 pt-0",a),children:i})})});eX.displayName=eW.VY.displayName;var eQ=a(44352),e0=a(19448),e1=a(42889),e2=a(76737);let e4=e2.fC,e5=ei.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(e2.aV,{ref:t,className:(0,ef.cn)("inline-flex h-10 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",a),...i})});e5.displayName=e2.aV.displayName;let e3=ei.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(e2.xz,{ref:t,className:(0,ef.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",a),...i})});e3.displayName=e2.xz.displayName;let e6=ei.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,n.jsx)(e2.VY,{ref:t,className:(0,ef.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});e6.displayName=e2.VY.displayName;var e8=a(32758),e7=a(54146);function removeHtmlTags(e){let t=e.replace(/<[^>]+>/g,""),a=t.replace(/\s+/g," ").trim(),n=a.replace(/\n/g," ");return n}let scrollToSection=e=>{let t=document.getElementById("".concat(e));t&&t.scrollIntoView({behavior:"smooth"})};var e9=a(58784);let getTitlePayment=e=>{switch(e){case"cstore":return"Convenience Store";case"ewallet":return"E-Wallet";case"transfer":return"Transfer Bank";case"va":return"Virtual Account";case"balance":return"Account Balance";case"qris":return"QRIS";case"pulsa":return"Pulsa";case"cc":return"Credit Card";default:return"Not Found"}},getTotalAmount=function(e,t,a,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=0;if(e>0&&(s+=e),Number(t)>0){let e=a*(Number(t)/100);s+=e}return a*n-i+s};function getFee(e,t,a){let n=0,i=null!=e?e:0,s=null!=t?t:0;return i>0&&(n+=i),s>0&&(n+=a*(s/100)),n}function calculateDiscountPercentage(e,t){return Math.abs(e-t)/e*100}let checkAvailablePayment=e=>{let{amount:t,minAmount:a,maxAmount:n,qty:i,currency:s}=e,l=i*t<=a||n<=i*t,r=i*t>=n,o=i*t<=a,d=r?"Max. ".concat((0,eE.lb)(n,s||"IDR")):o?"Min. ".concat((0,eE.lb)(a,s||"IDR")):"";return{isAvailable:l,message:d}},te=(0,R.getCookie)("fcm-token"),tt=(0,en.Ue)()((e,t)=>({open:!1,setOpen:t=>e({open:t}),message:"",setErrorMessage:(a,n)=>e({open:a,message:n||t().message})}));function FormTransaction(e){var t,a,i;let{locale:s,product:o,onSubmit:d,isLoading:c,onOpenImage:u,images:m}=e,x=(0,r.Z)()(e=>e.config),p=(0,S.O)(e=>e.profile),h=(0,et.Gc)(),g=(0,v.D)({mutationKey:["inquiry-account-pre-validate"],mutationFn:async e=>{let{data:t}=await l.h.post("/inquiry/account/pre-validate",{...e});return t},onSettled:()=>{h.setValue("variant",{})}});return(0,n.jsxs)("form",{onSubmit:d,className:"container relative mt-4 grid grid-cols-3 gap-4 md:gap-8 lg:mt-8",children:[(0,n.jsx)("div",{className:"col-span-3 col-start-1 flex flex-col gap-4 lg:col-span-2 lg:gap-8",children:null===(a=x.content)||void 0===a?void 0:null===(t=a.order)||void 0===t?void 0:t.alignment.filter(e=>{if("input"===e)return o.useInput;if("contact"===e){var t,a;return(null===(t=x.feature)||void 0===t?void 0:t.contactWhatsapp)||(null===(a=x.feature)||void 0===a?void 0:a.contactEmail)}return"promo"!==e||void 0===p||(null==p?void 0:p.membership)==="member"}).map((e,t)=>{let a=t+1;return(0,n.jsxs)(ei.Fragment,{children:["variant"===e&&(0,n.jsx)(FormVariant,{position:a,product:o,prevalidate:g,config:x}),"input"===e&&(0,n.jsx)(FormInput,{position:a,product:o,prevalidate:g}),"quantity"===e&&(0,n.jsx)(FormQuantity,{position:a}),"payment"===e&&(0,n.jsx)(FormPayment,{position:a,config:x}),"promo"===e&&(0,n.jsx)(FormPromo,{position:a,product:o,config:x}),"contact"===e&&(0,n.jsx)(FormContact,{position:a,config:x,locale:s})]},e)})}),(0,n.jsx)("div",{className:"col-span-3 lg:col-span-1",children:(0,n.jsxs)("div",{className:"sticky top-[118px] flex flex-col gap-4 md:gap-8",children:[(null===(i=x.meta)||void 0===i?void 0:i.title)==="TAKAPEDIA"&&m&&m.length>0&&(0,n.jsx)("div",{className:"flex flex-col gap-2",children:(0,n.jsx)(ep.z,{type:"button",variant:"secondary",size:"sm",className:"w-full gap-2 bg-card/75",onClick:u,children:"Klik Untuk Melihat Informasi"})}),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,n.jsx)(SummaryReviewsDesktop,{productId:o.id,config:x}),p&&(0,n.jsx)(AffiliateButton,{}),(0,n.jsx)(NeedHelps,{}),(0,n.jsx)(Summary,{product:o,isLoading:c})]})]})}),(0,n.jsx)(SummaryMobile,{product:o,isLoading:c})]})}function Details(e){var t,a,i,s,l,o,d,c,u,m,x;let{product:v}=e,p=(0,r.Z)()(e=>e.config);return(0,n.jsxs)(ei.Fragment,{children:[""!==((null===(t=v.meta)||void 0===t?void 0:t.description)||"")&&(0,n.jsx)("div",{className:"container mt-4 lg:mt-8",children:(0,n.jsxs)(Card,{title:"Deskripsi ".concat(v.title),children:[(0,n.jsx)("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:(null===(a=v.meta)||void 0===a?void 0:a.description)||""}}),(p.ios||p.android)&&(0,n.jsxs)("div",{className:"mt-3 flex flex-col border-t border-dashed pt-3 text-card-foreground",children:[(0,n.jsxs)("h3",{className:"mb-3 text-sm",children:["Download Aplikasi ",null===(i=p.meta)||void 0===i?void 0:i.name," sekarang!"]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[p.ios&&(0,n.jsx)(eC.r,{href:p.ios,children:(0,n.jsx)(eo(),{src:j.Z,width:120,height:40,alt:"Play Store",priority:!0})}),p.android&&(0,n.jsx)(eC.r,{href:p.android,children:(0,n.jsx)(eo(),{src:y.Z,width:120,height:40,alt:"App Store",priority:!0})})]})]})]})}),(null===(l=p.feature)||void 0===l?void 0:null===(s=l.review)||void 0===s?void 0:s.isActive)&&(0,n.jsx)("div",{className:"container col-span-3 mt-4 block px-4 lg:hidden",children:(0,n.jsx)(Reviews,{productId:v.id,config:p})}),((null===(d=v.meta)||void 0===d?void 0:null===(o=d.faqs)||void 0===o?void 0:o.length)||0)>0&&(0,n.jsxs)("div",{className:"container mt-4 lg:mt-12",children:[(0,n.jsx)("div",{className:"pb-4 font-semibold",children:"Kamu Punya Pertanyaan?"}),(0,n.jsx)(eJ,{type:"multiple",className:"space-y-2",children:null===(u=v.meta)||void 0===u?void 0:null===(c=u.faqs)||void 0===c?void 0:c.map(e=>(0,n.jsxs)(eY,{value:e.label,className:"rounded-lg border border-muted bg-muted/50",children:[(0,n.jsx)(e$,{className:"px-4 py-3 text-left text-sm/6 font-semibold",children:e.label}),(0,n.jsx)(eX,{className:"px-4 text-sm",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})})]},e.label))})]}),""!==((null===(m=v.meta)||void 0===m?void 0:m.longDescription)||"")&&(0,n.jsx)("div",{className:"container mt-4 lg:mt-12",children:(0,n.jsx)(Card,{title:"",children:(0,n.jsx)("div",{className:"text-sm",children:(0,n.jsx)(ShowMore,{htmlContent:(null===(x=v.meta)||void 0===x?void 0:x.longDescription)||"",maxLength:150})})})})]})}let SummaryReviewsDesktop=e=>{var t,a,i,s,l;let{config:r,productId:o}=e,{t:d}=(0,ee.$G)(["common","product","review"]),{data:c}=(0,g.z5)(o,{enabled:null!==(s=null==r?void 0:null===(a=r.feature)||void 0===a?void 0:null===(t=a.review)||void 0===t?void 0:t.hasSummary)&&void 0!==s&&s}),u=ei.useMemo(()=>{var e;let t=0,a=0;if(null==c||null===(e=c.data)||void 0===e||e.ratings.forEach(e=>{t+=e.rating*e.total,a+=e.total}),a<1)return 0..toFixed(1);let n=t/a;return(Math.floor(100*n)/100).toFixed(2)},[c]);return(0,n.jsxs)("div",{className:"hidden flex-col items-start justify-center gap-1 rounded-xl bg-card/50 p-4 text-card-foreground shadow-2xl lg:flex",children:[(0,n.jsx)("div",{className:"text-sm font-semibold tracking-wide",children:d("review:reviews-and-ratings")}),(0,n.jsxs)("div",{className:"flex items-baseline gap-4",children:[(0,n.jsx)("div",{className:"text-[40px] font-bold leading-none xl:text-[50px]",children:u}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex fill-muted-foreground text-muted-foreground/50",children:Array.from({length:5}).map((e,t)=>(0,n.jsx)(I,{className:(0,ef.cn)("siz-10 xl:size-11",t<Number(u)&&"text-warning"),"aria-hidden":"true"},t))}),(0,n.jsx)("div",{className:"ml-1.5 mt-1 flex items-center text-sm font-semibold",children:d("review:based-on",{total:(0,eE.hf)(null!==(l=null==c?void 0:null===(i=c.data)||void 0===i?void 0:i.total)&&void 0!==l?l:0)})})]})]})]})},SummaryReviews=e=>{var t,a,i,s,l,r;let{config:o,productId:d}=e,{data:c}=(0,g.z5)(d,{enabled:null!==(l=null==o?void 0:null===(a=o.feature)||void 0===a?void 0:null===(t=a.review)||void 0===t?void 0:t.hasSummary)&&void 0!==l&&l}),u=ei.useMemo(()=>{var e;let t=0,a=0;if(null==c||null===(e=c.data)||void 0===e||e.ratings.forEach(e=>{t+=e.rating*e.total,a+=e.total}),a<1)return 0..toFixed(1);let n=t/a;return(Math.floor(100*n)/100).toFixed(2)},[c]);return(0,n.jsxs)("div",{className:"pb-4",children:[(0,n.jsxs)("div",{className:"mb-6 flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(I,{className:"h-10 w-10 flex-shrink-0 text-yellow-400","aria-hidden":"true"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-5xl font-semibold text-card-foreground",children:u}),(0,n.jsx)("sub",{className:"text-lg font-semibold text-card-foreground",children:"/ 5.0"})]})]}),(0,n.jsxs)("p",{className:"pt-2 text-center text-sm text-card-foreground",children:["Pelanggan merasa puas dengan produk ini. ",(0,n.jsx)("br",{})," Dari"," ",(0,n.jsx)("span",{className:"font-semibold",children:(0,eE.hf)(null!==(r=null==c?void 0:null===(i=c.data)||void 0===i?void 0:i.total)&&void 0!==r?r:0)})," ulasan."]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"sr-only",children:"Review data"}),(0,n.jsx)("dl",{className:"space-y-3 text-card-foreground",children:null==c?void 0:null===(s=c.data)||void 0===s?void 0:s.ratings.map(e=>{var t,a;return(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsxs)("dt",{className:"flex flex-1 items-center pl-1",children:[(0,n.jsxs)("p",{className:"text-text-color w-3 font-medium",children:[e.rating,(0,n.jsx)("span",{className:"sr-only",children:" star reviews"})]}),(0,n.jsxs)("div",{"aria-hidden":"true",className:"ml-1 flex flex-1 items-center",children:[(0,n.jsx)(I,{className:(0,ef.cn)(e.total>0?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"}),(0,n.jsxs)("div",{className:"relative ml-3 flex-1",children:[(0,n.jsx)("div",{className:"h-3 rounded-[4px] border border-gray-200 bg-gray-100"}),Math.round(e.total/((null===(t=c.data)||void 0===t?void 0:t.total)||1)*100)>0?(0,n.jsx)("div",{className:"absolute inset-y-0 rounded-[4px] border border-yellow-400 bg-yellow-400",style:{width:"".concat(Math.round(e.total/((null===(a=c.data)||void 0===a?void 0:a.total)||1)*100),"%")}}):null]})]})]}),(0,n.jsxs)("dd",{className:"text-text-color ml-3 w-[3.75rem] text-right text-sm tabular-nums",children:[(0,eE.hf)(e.total),(0,n.jsx)("span",{className:"sr-only",children:" reviews"})]})]},e.rating)})})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)("p",{className:"text-sm/6 text-card-foreground",children:"Apakah kamu menyukai produk ini? Beri tahu kami dan calon pembeli lainnya tentang pengalamanmu."})})]})},Review=e=>{let{review:t}=e,{t:a}=(0,ee.$G)(["common","product","review"]);return(0,n.jsxs)("div",{className:"pt-4 text-card-foreground",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h4",{className:"mt-0.5 text-xs font-bold text-foreground",children:t.username||t.phoneNumber})}),(0,n.jsx)("div",{className:"flex items-center",children:[0,1,2,3,4].map(e=>(0,n.jsx)(I,{className:(0,ef.cn)(t.rating>e?"text-yellow-400":"text-gray-300","h-4 w-4 flex-shrink-0"),"aria-hidden":"true"},e))})]}),(0,n.jsxs)("p",{className:"sr-only",children:[t.rating," ",a("review:out-of-5-star")]})]})}),(0,n.jsxs)("div",{className:"flex w-full justify-between pt-1 text-xxs",children:[(0,n.jsx)("span",{children:t.variantName}),(0,n.jsx)("span",{children:Q()(t.createdAt).format("DD-MM-YYYY HH:mm:ss")})]}),(0,n.jsx)("div",{className:"mt-1 space-y-6 text-xs italic text-foreground",children:"“".concat(t.comment,"”")})]})},Reviews=e=>{var t,a,i,s;let{productId:l,className:r,config:o}=e,{t:d}=(0,ee.$G)(["common","review"]),{data:c}=(0,g.Pf)(l);return(0,n.jsx)("div",{className:r,children:(0,n.jsxs)(Card,{title:d("review:title"),icon:(0,n.jsx)(H.Z,{className:"h-4 w-4"}),children:[(null==o?void 0:null===(a=o.feature)||void 0===a?void 0:null===(t=a.review)||void 0===t?void 0:t.hasSummary)&&(0,n.jsx)(SummaryReviews,{config:o,productId:l}),(0,n.jsx)("div",{className:(0,ef.cn)(["flex flex-col gap-y-4 divide-y divide-card-foreground/25",(null==o?void 0:null===(s=o.feature)||void 0===s?void 0:null===(i=s.review)||void 0===i?void 0:i.hasSummary)&&"border-t border-card-foreground/25"]),children:null==c?void 0:c.data.map(e=>(0,n.jsx)(Review,{review:e},e.id))}),(0,n.jsx)("div",{className:"flex justify-end pt-4",children:(0,n.jsx)(ep.z,{type:"button",variant:"outline",className:"bg-secondary/50 pr-3 text-secondary-foreground",size:"sm",asChild:!0,children:(0,n.jsxs)(eC.r,{href:"/reviews",className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:"Lihat semua ulasan"}),(0,n.jsx)(G.Z,{className:"h-4 w-4"})]})})})]})})},Card=e=>{let{children:t,title:a,position:i,icon:s,className:l}=e;return(0,n.jsxs)("section",{className:(0,ef.cn)(["relative scroll-mt-20 rounded-xl bg-card/50 shadow-2xl md:scroll-mt-[7.5rem]",l]),id:"".concat(null!=i?i:a),children:[(0,n.jsxs)("div",{className:"flex items-center overflow-hidden rounded-t-xl bg-card",children:[(0,n.jsx)("div",{className:"flex h-10 w-10 items-center justify-center bg-primary font-semibold text-primary-foreground",children:s||i}),(0,n.jsx)("h2",{className:"px-4 py-2 text-sm/6 font-semibold text-card-foreground",children:a})]}),(0,n.jsx)("div",{className:"p-4",children:t})]})},ta={INSTANT:eN.T,FLASH:eb.H,"5_MINUTE":ej.I,"10_MINUTE":ey.R,MANUAL:ew.M},FormVariant=e=>{var t,i,l,r,o,u,m,x,v,p,g,f;let{position:j,product:y,prevalidate:b,config:N}=e,w=(0,e7.$2)(),[k,S]=ei.useState({open:!1,value:{}}),z=(0,ed.useRouter)(),C=z.query.pvc,{t:I}=(0,ee.$G)(["common","product"]),{CURRENCY:T}=(0,h.E)(),P=(0,et.Gc)(),F=(0,d.Nq)(y.id,{},{onSuccess:e=>{if(C){let t=null==e?void 0:e.flatMap(e=>e.variants).find(e=>e.code===C);t&&P.setValue("variant",t)}}}),L=(0,c.u)({filter:"products.id:".concat(y.id)}),q=null!==(f=null===(t=L.data)||void 0===t?void 0:t.data)&&void 0!==f?f:[];y.usePreValidation&&b.isSuccess&&(q=q.filter(e=>{var t,a,n,i;return!(e.region.length>0&&b.isSuccess&&(null===(a=b.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.region)!=="GLOBAL"&&!e.region.includes((null===(i=b.data.data)||void 0===i?void 0:null===(n=i.account)||void 0===n?void 0:n.region)||"GLOBAL"))})),q=Object.values(q.reduce((e,t)=>((!e[t.productVariantName]||t.price<e[t.productVariantName].price)&&(e[t.productVariantName]=t),e),{}));let E=!!(null===(l=N.content)||void 0===l?void 0:null===(i=l.order)||void 0===i?void 0:i.variant),D=!!(null===(o=N.content)||void 0===o?void 0:null===(r=o.order)||void 0===r?void 0:r.variantForeground),V=!!(null===(m=N.content)||void 0===m?void 0:null===(u=m.order)||void 0===u?void 0:u.variantImage);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Card,{title:I("product:form.nominal.title"),position:j,className:"",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[q.length>0?(0,n.jsx)("section",{id:"flash-sale",children:(0,n.jsxs)(BackgroundGradient,{className:"rounded-[12px] bg-[hsl(var(--card))] px-4 pb-4 pt-4",children:[(0,n.jsxs)("h1",{className:(0,ef.cn)("mb-4 flex items-center gap-2 text-balance text-xl/6 font-semibold leading-none tracking-tighter",s().className,"font-bold"),children:[(0,n.jsx)("svg",{fill:"currentColor",viewBox:"0 0 256 256",className:"size-5 text-[hsl(var(--primary))]",children:(0,n.jsx)("path",{d:"M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"})}),(0,n.jsx)(eh,{colors:["hsl(var(--primary))","hsl(var(--card-foreground) / 50%)"],children:"Flash Sale"})]}),(0,n.jsx)(et.Qr,{control:P.control,name:"variant",render:e=>{let{field:t}=e;return(0,n.jsxs)(A.E,{value:t.value,onChange:e=>{if(!e.isSoldOut){if(e.disabled)ea.Am.error("Silahkan isi data akun terlebih dahulu."),scrollToSection(j-1);else{var a;if(e.info)return S({open:!0,value:{id:e.id,code:e.productVariantCode,name:e.productVariantName,currency:e.currency,price:e.price,originalPrice:e.originalPrice,sectionName:e.productVariantName,image:e.image,info:e.info,processTime:e.processTime,region:e.region}});t.onChange({id:e.id,code:e.productVariantCode,name:e.productVariantName,currency:e.currency,price:e.price,originalPrice:e.originalPrice,sectionName:e.productVariantName,image:e.image,info:e.info,processTime:e.processTime,region:e.region}),P.setValue("promo",{amount:0,code:""}),null===(a=document.getElementById("cancel-promo"))||void 0===a||a.click(),scrollToSection(j+1)}}},by:(e,t)=>e.id===t.id,children:[(0,n.jsx)(A.E.Label,{className:"sr-only",children:"Select a variant list"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-3",children:[q.length<1&&(0,n.jsx)("div",{className:"col-span-full mt-2 rounded-lg border border-transparent bg-muted px-2.5 py-3 text-center text-xs uppercase text-muted-foreground shadow-sm",children:"Item not available"}),q.map(e=>{var t,a,i,s;let l=e.originalPrice>e.price,r="INSTANT";r=0===e.processTime?"INSTANT":e.processTime<=60?"FLASH":e.processTime<=300?"5_MINUTE":e.processTime<=600?"10_MINUTE":"MANUAL";let o=ta[r],d=y.usePreValidation&&!b.isSuccess||e.region.length>0&&b.isSuccess&&(null===(a=b.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.region)!=="GLOBAL"&&!e.region.includes((null===(s=b.data.data)||void 0===s?void 0:null===(i=s.account)||void 0===i?void 0:i.region)||"GLOBAL"),c=e.useStock&&e.stock-e.stockUsage<1;return(0,n.jsx)(A.E.Option,{id:"flash-".concat(e.productVariantCode),value:{...e,disabled:d,isSoldOut:c},className:e=>{let{checked:t}=e;return(0,O.Z)(["group/variant relative flex min-h-[85px] cursor-pointer gap-4 rounded-xl border border-transparent bg-muted text-muted-foreground shadow-sm outline-none duration-300",t?"bj-shadow ring-2 ring-primary ring-offset-2 ring-offset-card":"",E&&"bg-order-variant-background",D&&"text-order-variant-foreground",V&&"border-none bg-order-variant-image bg-cover bg-center bg-no-repeat",!d&&"hover:ring-2 hover:ring-primary hover:ring-offset-2 hover:ring-offset-background",c&&"!cursor-not-allowed opacity-70 grayscale"])},children:t=>{var a,i;let{checked:s}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"relative w-full",children:(0,n.jsxs)("span",{className:"flex h-full flex-col justify-between divide-y divide-muted-foreground/10",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-start gap-1 p-3",children:[(0,n.jsx)(A.E.Label,{as:"span",className:"block text-xs font-semibold ",children:e.productVariantName}),(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 md:gap-3",children:[e.image&&(0,n.jsx)("div",{className:"flex aspect-square w-6 items-center md:w-8",children:(0,n.jsx)(eA.J,{src:e.image,alt:"".concat(y.title," - ").concat(e.productVariantName),priority:!0,width:300,height:300,sizes:"80vh",className:(0,ef.cn)("animate-wiggle-scale object-contain object-right","")})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(A.E.Description,{as:"span",className:(0,ef.cn)("flex items-center text-[14px] font-semibold md:text-[16px]","text-primary"),children:(0,eE.lb)(e.price,null!==(a=e.currency)&&void 0!==a?a:T)}),l&&(0,n.jsx)(A.E.Description,{as:"span",className:(0,ef.cn)(["flex items-center text-[10px] font-semibold italic line-through decoration-[0.9px]","text-destructive decoration-destructive"]),children:(0,eE.lb)(e.originalPrice,null!==(i=e.currency)&&void 0!==i?i:T)})]})]}),e.useStock&&(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(e0.E,{value:(e.stock-e.stockUsage)/e.stock*100,className:"mb-1 h-1.5"}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(A.E.Description,{as:"span",className:"flex items-center text-[8px] font-semibold md:text-[10px]",children:e.stock-e.stockUsage<1?"".concat((0,eE.lb)(e.stockUsage,"")," / ").concat((0,eE.lb)(e.stock,"")," purchased - Out of Stock"):"".concat((0,eE.lb)(e.stockUsage,"")," / ").concat((0,eE.lb)(e.stock,"")," purchased")})})]})]}),(0,n.jsxs)("div",{className:"flex w-full items-end justify-end gap-1 rounded-b-xl bg-gradient-to-b from-muted to-muted/40 p-2",children:[l&&(0,n.jsxs)("div",{className:"flex h-full w-fit items-center rounded bg-gradient-to-b from-primary to-primary/60 px-1.5 text-xxs font-semibold text-primary-foreground",children:["Disc ",Math.round(calculateDiscountPercentage(e.originalPrice,e.price)),"%"]}),(0,n.jsx)("div",{className:"h-fit w-fit rounded bg-white p-1",children:(0,n.jsx)(o,{className:"h-3 w-12"})})]})]})}),s&&(0,n.jsx)("div",{className:"selected-item absolute inset-0 overflow-hidden"})]})}},e.id)})]})]})}})]})}):null,F.isLoading&&(0,n.jsx)(ProductSkeleton,{}),F.isError&&(0,n.jsxs)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-4 text-xs text-destructive-foreground",children:[I("common:error")," ❌"]}),null===(x=F.data)||void 0===x?void 0:x.map(e=>{let t=e.variants;return(y.usePreValidation&&b.isSuccess&&(t=t.filter(e=>{var t,a,n,i;return!(e.region.length>0&&b.isSuccess&&(null===(a=b.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.region)!=="GLOBAL"&&!e.region.includes((null===(i=b.data.data)||void 0===i?void 0:null===(n=i.account)||void 0===n?void 0:n.region)||"GLOBAL"))})),(t=Object.values((t=t.filter(e=>!q.some(t=>t.id===e.id))).reduce((e,t)=>((!e[t.name]||t.price<e[t.name].price)&&(e[t.name]=t),e),{}))).length<1)?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("section",{id:e.name,children:[(0,n.jsx)("h3",{className:"pb-4 text-sm/6 font-semibold text-card-foreground",children:e.name}),(0,n.jsx)(et.Qr,{control:P.control,name:"variant",render:e=>{let{field:i}=e;return(0,n.jsxs)(A.E,{value:i.value,onChange:e=>{if(e.disabled)ea.Am.error("Silahkan isi data akun terlebih dahulu."),scrollToSection(j-1);else{var t;if(e.info)return S({open:!0,value:e});i.onChange(e),P.setValue("promo",{amount:0,code:""}),null===(t=document.getElementById("cancel-promo"))||void 0===t||t.click(),scrollToSection(j+1)}},by:(e,t)=>e.id===t.id,children:[(0,n.jsx)(A.E.Label,{className:"sr-only",children:"Select a variant list"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-3",children:[t.length<1&&(0,n.jsx)("div",{className:"col-span-full mt-2 rounded-lg border border-transparent bg-muted px-2.5 py-3 text-center text-xs uppercase text-muted-foreground shadow-sm",children:"Item not available"}),t.map(e=>{var t,i,s,l;let r=e.originalPrice>e.price,o="INSTANT";o=0===e.processTime?"INSTANT":e.processTime<=60?"FLASH":e.processTime<=300?"5_MINUTE":e.processTime<=600?"10_MINUTE":"MANUAL";let d=ta[o],c=y.usePreValidation&&!b.isSuccess||e.region.length>0&&b.isSuccess&&(null===(i=b.data.data)||void 0===i?void 0:null===(t=i.account)||void 0===t?void 0:t.region)!=="GLOBAL"&&!e.region.includes((null===(l=b.data.data)||void 0===l?void 0:null===(s=l.account)||void 0===s?void 0:s.region)||"GLOBAL");return(0,n.jsx)(A.E.Option,{id:e.code,value:{...e,disabled:c},className:e=>{let{checked:t}=e;return(0,O.Z)(["group/variant relative flex min-h-[85px] cursor-pointer gap-4 rounded-xl border border-transparent bg-muted text-muted-foreground shadow-sm outline-none duration-300",t?"bj-shadow ring-2 ring-primary ring-offset-2 ring-offset-card":"",E&&"bg-order-variant-background",D&&"text-order-variant-foreground",V&&"border-none bg-order-variant-image bg-cover bg-center bg-no-repeat",!c&&"hover:ring-2 hover:ring-primary hover:ring-offset-2 hover:ring-offset-background"])},children:t=>{var i,s;let{checked:l}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"relative w-full",children:[""!==e.info&&(0,n.jsx)("div",{className:"absolute bottom-10 right-1",children:w?(0,n.jsx)(eo(),{src:a(82886),alt:"",className:"size-8"}):(0,n.jsx)(W.Z,{className:"h-4 w-4 text-muted-foreground"})}),(0,n.jsxs)("span",{className:"flex h-full flex-col justify-between divide-y divide-muted-foreground/10",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-start gap-1 p-3",children:[(0,n.jsx)(A.E.Label,{as:"span",className:"block text-xs font-semibold ",children:e.name}),(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 md:gap-3",children:[e.image&&(0,n.jsx)("div",{className:"flex aspect-square w-6 items-center md:w-8",children:(0,n.jsx)(eA.J,{src:e.image,alt:"".concat(y.title," - ").concat(e.name),priority:!0,width:300,height:300,sizes:"80vh",className:(0,ef.cn)("object-contain object-right duration-300 group-hover/variant:rotate-12 group-hover/flashsale:scale-110","")})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(A.E.Description,{as:"span",className:(0,ef.cn)("flex items-center text-[14px] font-semibold md:text-[16px]","text-primary"),children:(0,eE.lb)(e.price,null!==(i=e.currency)&&void 0!==i?i:T)}),r&&(0,n.jsx)(A.E.Description,{as:"span",className:(0,ef.cn)(["flex items-center text-[10px] font-semibold italic line-through decoration-[0.9px]","text-destructive decoration-destructive"]),children:(0,eE.lb)(e.originalPrice,null!==(s=e.currency)&&void 0!==s?s:T)})]})]})]}),(0,n.jsxs)("div",{className:"flex w-full items-end justify-end gap-1 rounded-b-xl bg-gradient-to-b from-muted to-muted/40 p-2",children:[r&&(0,n.jsxs)("div",{className:"flex h-full w-fit items-center rounded bg-gradient-to-b from-primary to-primary/60 px-1.5 text-xxs font-semibold text-primary-foreground",children:["Disc ",Math.round(calculateDiscountPercentage(e.originalPrice,e.price)),"%"]}),(0,n.jsx)("div",{className:"h-fit w-fit rounded bg-white p-1",children:(0,n.jsx)(d,{className:"h-3 w-12"})})]})]})]}),l&&(0,n.jsx)("div",{className:"selected-item absolute inset-0 overflow-hidden"})]})}},e.id)})]})]})}})]},e.name)})]})}),(0,n.jsx)(ModalInfoVariant,{image:(null===(v=k.value)||void 0===v?void 0:v.image)||"",name:(null===(p=k.value)||void 0===p?void 0:p.name)||"",isOpen:k.open,content:(null===(g=k.value)||void 0===g?void 0:g.info)||"",handleClose:()=>{S(e=>({...e,open:!1}))},handleConfirm:()=>{P.setValue("variant",k.value),S(e=>({...e,open:!1})),scrollToSection(j+1)}})]})},FormInput=e=>{var t,a,i,s,r,o,d,c,u;let{position:m,product:x,prevalidate:p}=e,{t:g}=(0,ee.$G)(["common","product"]),[f,j]=ei.useState(!1),y=(0,et.Gc)(),{fields:b}=(0,et.Dq)({control:y.control,name:"input",keyName:"id"}),{REGION:N}=(0,h.E)(),w=tt(e=>e.setErrorMessage),k=(0,v.D)({mutationFn:async e=>{let{data:t}=await l.h.post("/inquiry/role",{...e,region:N.toUpperCase()});return t},onSuccess:e=>{null==b||b.map(t=>{if("select:role"===t.type){var a,n;t.options=null!==(n=null===(a=e.data)||void 0===a?void 0:a.roles.map(e=>({title:e.label,value:e.value})))&&void 0!==n?n:[]}})},onError:e=>{var t;w(!0,null===(t=e.response)||void 0===t?void 0:t.data.message)}}),findIndex=e=>b.findIndex(t=>t.name===e),S=ei.useRef(null);ei.useEffect(()=>{if(!x.usePreValidation)return;let e=y.watch((e,t)=>{let{name:a}=t;if(a&&a.startsWith("input")){let t=e.input||[],a=t.every(e=>e.value&&""!==e.value);S.current&&clearTimeout(S.current),a&&(S.current=setTimeout(()=>{p.mutate({region:N.toUpperCase(),productCode:x.code,xToken:"",xTokenVersion:"",inputs:t.map(e=>({value:e.value,input:{name:e.name,type:e.type,title:e.title,options:e.options,placeholder:"",minLength:0,maxLength:0,regexValidation:""}}))})},500))}});return()=>{S.current&&clearTimeout(S.current),e.unsubscribe()}},[N,x.code,x.usePreValidation]);let[A,z]=ei.useState(!1),[C,I]=ei.useState([]),T=ei.useRef(null);ei.useEffect(()=>{try{let e=x.code,t=JSON.parse(localStorage.getItem("saved-inputs"))||{},a=t[N]||{};I(a[e]||[])}catch(e){I([])}},[N,x.code]);let handleSuggestionClick=e=>{e.forEach((e,t)=>{y.setValue("input.".concat(t,".value"),e.value)}),z(!1),setTimeout(()=>{T.current&&T.current.blur()},100)},P=A&&C.length>0&&(0,n.jsx)("div",{className:"absolute left-0 top-full z-50 col-span-1 mt-1 max-h-56 w-full overflow-auto rounded-lg border border-foreground/20 bg-input shadow-lg",children:C.map((e,t)=>(0,n.jsxs)("div",{className:"cursor-pointer border-b px-3 py-2 text-xs text-foreground last:border-b-0 hover:bg-primary/10",onMouseDown:()=>handleSuggestionClick(e.inputs),children:[(0,n.jsx)("div",{className:"truncate font-semibold",children:e.nickname||"Tanpa Nama"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1 text-muted-foreground",children:e.inputs.map((e,t)=>(0,n.jsxs)("span",{className:"truncate",children:[e.label.toUpperCase(),": ",e.value]},t))})]},t))});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Card,{title:g("product:form.account.title"),position:m,children:[b.length>0&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[b.filter(e=>"select:role"!==e.type).map((e,t)=>{var a,i,s,l,r,o,d,c,u,m,v,p,h;return(0,n.jsxs)(ei.Fragment,{children:["text"===e.type&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,n.jsx)(eS._,{htmlFor:e.name,children:e.title}),0===t&&!!(null===(a=x.meta)||void 0===a?void 0:a.instruction)&&(0,n.jsx)("div",{onClick:()=>j(!0),className:"cursor-pointer",children:(0,n.jsx)(W.Z,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"relative flex w-full items-center gap-2",children:[(0,n.jsx)(ek.II,{id:e.name,name:e.name,value:y.watch("input.".concat(findIndex(e.name),".value")),onChange:t=>{let a=t.target.value;y.setValue("input.".concat(findIndex(e.name),".value"),a)},type:"text",placeholder:e.placeholder||"".concat(g("product:type-your")," ").concat(e.title),autoComplete:e.name,onFocus:()=>z(!0),onBlur:()=>z(!1),maxLength:e.maxLength>0?e.maxLength:void 0,minLength:e.minLength>0?e.minLength:void 0}),0===t&&P]}),y.formState.errors.input&&(null===(i=y.formState.errors.input[findIndex(e.name)])||void 0===i?void 0:i.value)&&(0,n.jsx)("p",{className:"mt-1 text-xs text-destructive",children:null===(l=y.formState.errors.input[findIndex(e.name)])||void 0===l?void 0:null===(s=l.value)||void 0===s?void 0:s.message})]}),"number"===e.type&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,n.jsx)(eS._,{htmlFor:e.name,children:e.title}),0===t&&!!(null===(r=x.meta)||void 0===r?void 0:r.instruction)&&(0,n.jsx)("div",{onClick:()=>j(!0),className:"cursor-pointer",children:(0,n.jsx)(W.Z,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"relative flex w-full items-center gap-2",children:[(0,n.jsx)(ek.II,{type:"text",id:e.name,name:e.name,value:y.watch("input.".concat(findIndex(e.name),".value")),onChange:t=>{let a=t.target.value.replace(/[^0-9]/g,"");y.setValue("input.".concat(findIndex(e.name),".value"),a)},min:0,onWheel:e=>e.currentTarget.blur(),onKeyDown:e=>{"Minus"===e.code&&e.preventDefault()},placeholder:e.placeholder||"".concat(g("product:type-your")," ").concat(e.title),autoComplete:e.name,onFocus:()=>z(!0),onBlur:()=>z(!1),maxLength:e.maxLength>0?e.maxLength:void 0,minLength:e.minLength>0?e.minLength:void 0}),0===t&&P]}),y.formState.errors.input&&(null===(o=y.formState.errors.input[findIndex(e.name)])||void 0===o?void 0:o.value)&&(0,n.jsx)("p",{className:"mt-1 text-xs text-destructive",children:null===(c=y.formState.errors.input[findIndex(e.name)])||void 0===c?void 0:null===(d=c.value)||void 0===d?void 0:d.message})]}),"password"===e.type&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,n.jsx)(eS._,{htmlFor:e.name,children:e.title}),0===t&&!!(null===(u=x.meta)||void 0===u?void 0:u.instruction)&&(0,n.jsx)("div",{onClick:()=>j(!0),className:"cursor-pointer",children:(0,n.jsx)(W.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex w-full items-center gap-2",children:(0,n.jsx)(ek.II,{id:e.name,name:e.name,type:"password",placeholder:e.placeholder||"".concat(g("product:type-your")," ").concat(e.title),value:y.watch("input.".concat(findIndex(e.name),".value")),onChange:t=>{let a=t.target.value;y.setValue("input.".concat(findIndex(e.name),".value"),a)},maxLength:e.maxLength>0?e.maxLength:void 0,minLength:e.minLength>0?e.minLength:void 0})}),y.formState.errors.input&&(null===(m=y.formState.errors.input[findIndex(e.name)])||void 0===m?void 0:m.value)&&(0,n.jsx)("p",{className:"mt-1 text-xs text-destructive",children:null===(p=y.formState.errors.input[findIndex(e.name)])||void 0===p?void 0:null===(v=p.value)||void 0===v?void 0:v.message})]}),"select"===e.type&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,n.jsx)(eS._,{htmlFor:e.name,children:e.title}),0===t&&!!(null===(h=x.meta)||void 0===h?void 0:h.instruction)&&(0,n.jsx)("div",{onClick:()=>j(!0),className:"cursor-pointer",children:(0,n.jsx)(W.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex w-full items-center gap-2",children:(0,n.jsxs)("select",{id:e.name,name:e.name,value:y.watch("input.".concat(findIndex(e.name),".value")),className:"relative block w-full appearance-none rounded-lg border bg-input px-3 py-2 text-xs text-foreground placeholder-muted-foreground focus:z-10 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary disabled:cursor-not-allowed disabled:opacity-75",onChange:t=>y.setValue("input.".concat(findIndex(e.name),".value"),t.target.value),children:[(0,n.jsx)("option",{value:"",children:e.placeholder||"".concat(g("product:choose")," ").concat(e.title)}),e.options.map(e=>(0,n.jsx)("option",{value:e.value,children:e.title},e.title))]})})]})]},t)}),b.filter(e=>"select:role"===e.type).map((e,t)=>{var a;return(0,n.jsx)(ei.Fragment,{children:"select:role"===e.type&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,n.jsx)(eS._,{htmlFor:e.name,children:e.title}),0===t&&!!(null===(a=x.meta)||void 0===a?void 0:a.instruction)&&(0,n.jsx)("div",{onClick:()=>j(!0),className:"cursor-pointer",children:(0,n.jsx)(W.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex w-full items-center gap-2",children:e.options.length>0?(0,n.jsxs)("select",{id:e.name,name:e.name,value:y.watch("input.".concat(findIndex(e.name),".value")),onChange:t=>y.setValue("input.".concat(findIndex(e.name),".value"),t.target.value),className:"relative block w-full appearance-none rounded-lg border bg-input px-3 py-2 text-xs text-foreground placeholder-muted-foreground focus:z-10 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary disabled:cursor-not-allowed disabled:opacity-75",children:[(0,n.jsxs)("option",{value:"",children:[g("product:choose")," ",e.title]}),e.options.map(e=>(0,n.jsx)("option",{value:e.value,children:e.title},e.title))]}):(0,n.jsx)(ep.z,{type:"button",onClick:()=>{k.mutate({region:N.toUpperCase(),productCode:x.code,inputs:y.watch("input").map(e=>({value:e.value})),xToken:"",xTokenVersion:""})},size:"sm",isLoading:k.isLoading,children:"Get Role Name"})})]})},t)})]})}),x.usePreValidation?(0,n.jsxs)(n.Fragment,{children:[p.isLoading&&(0,n.jsx)("div",{className:"mt-4 flex w-full items-center justify-center",children:(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 rounded-lg border-info/40 bg-info/10 px-2 py-1.5 text-xxs italic md:text-[11px]",children:[(0,n.jsx)(K.Z,{className:"size-4 animate-spin"}),(0,n.jsx)("span",{children:"Please wait..."})]})}),p.isSuccess&&(0,n.jsx)("div",{className:"items- mt-4 flex w-full justify-center",children:(0,n.jsx)("div",{className:"w-full rounded-lg border border-success/40 bg-success/10 px-2 py-1.5 text-xxs italic md:text-[11px]",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-x-1",children:[(0,n.jsx)("span",{children:"Your account is"}),(0,n.jsx)("span",{className:"font-semibold text-success",children:null===(a=p.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.nickname}),(0,n.jsx)(J.Z,{className:"size-4 text-success"}),(null===(s=p.data.data)||void 0===s?void 0:null===(i=s.account)||void 0===i?void 0:i.region)!=="GLOBAL"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"from"}),(0,n.jsxs)("span",{className:"font-semibold",children:[null===(r=Z.hW.all.find(e=>{var t,a;return e.alpha2===((null===(a=p.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.region)||"ID")}))||void 0===r?void 0:r.name," ",null===(o=Z.hW.all.find(e=>{var t,a;return e.alpha2===((null===(a=p.data.data)||void 0===a?void 0:null===(t=a.account)||void 0===t?void 0:t.region)||"ID")}))||void 0===o?void 0:o.emoji]})]})]}),(0,n.jsx)("div",{className:"flex flex-wrap items-center gap-x-1"})]})})}),p.isError&&(0,n.jsx)("div",{className:"mt-4 flex w-full items-center justify-center",children:(0,n.jsx)("div",{className:"w-full rounded-lg border border-destructive/40 bg-destructive/10 px-2 py-1.5 text-xxs italic md:text-[11px]",children:(0,n.jsx)("div",{className:"flex flex-wrap items-center gap-x-1",children:(0,n.jsx)("span",{children:(0,n.jsxs)("span",{className:"font-semibold text-destructive",children:[" ",null===(d=p.error.response)||void 0===d?void 0:d.data.message," ❌"]})})})})})]}):(0,n.jsx)("div",{className:"mt-4 flex w-full items-center justify-center ",children:(0,n.jsxs)("div",{className:"flex w-full items-center gap-1.5 rounded-lg border-primary bg-primary/20 px-2 py-1.5 text-xxs italic md:text-[11px]",children:[(0,n.jsx)(W.Z,{className:"size-3"}),"Please make sure you fill the correct account data"]})})]}),(0,n.jsx)(ModalInputInstruction,{show:f,onClose:()=>j(e=>!e),instructionHtml:null!==(u=null===(c=x.meta)||void 0===c?void 0:c.instruction)&&void 0!==u?u:""})]})},FormQuantity=e=>{let{position:t}=e,{t:a}=(0,ee.$G)(["common","product"]),i=(0,et.Gc)();return(0,n.jsx)(Card,{title:a("product:form.qty.title"),position:t,children:(0,n.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(ek.II,{...i.register("quantity")})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(ep.z,{type:"button",size:"icon-sm",onClick:()=>{i.setValue("quantity",Number(i.watch("quantity"))+1)},children:(0,n.jsx)(q,{className:"h-5 w-5"})}),(0,n.jsx)(ep.z,{type:"button",size:"icon-sm",onClick:()=>{i.setValue("quantity",Number(i.watch("quantity"))-1)},disabled:1>=Number(i.watch("quantity")),children:(0,n.jsx)(E,{className:"h-5 w-5"})})]})]})})},FormPayment=e=>{var t,a,i,s,l,r,o,d,c,u,x,v,p,g,f,j,y,b,N,w,k,I,T,P;let{position:F,config:L}=e,{t:q}=(0,ee.$G)(["common","product"]),E=!!(null===(i=L.content)||void 0===i?void 0:null===(a=i.payment)||void 0===a?void 0:null===(t=a.card)||void 0===t?void 0:t.background),V=!!(null===(r=L.content)||void 0===r?void 0:null===(l=r.payment)||void 0===l?void 0:null===(s=l.card)||void 0===s?void 0:s.foreground),M=!!(null===(c=L.content)||void 0===c?void 0:null===(d=c.payment)||void 0===d?void 0:null===(o=d.card)||void 0===o?void 0:o.image),_=!!(null===(v=L.content)||void 0===v?void 0:null===(x=v.payment)||void 0===x?void 0:null===(u=x.category)||void 0===u?void 0:u.background),R=!!(null===(f=L.content)||void 0===f?void 0:null===(g=f.payment)||void 0===g?void 0:null===(p=g.category)||void 0===p?void 0:p.foreground),Z=!!(null===(b=L.content)||void 0===b?void 0:null===(y=b.payment)||void 0===y?void 0:null===(j=y.category)||void 0===j?void 0:j.header),B=!!(null===(k=L.content)||void 0===k?void 0:null===(w=k.payment)||void 0===w?void 0:null===(N=w.category)||void 0===N?void 0:N.footer),U=!!(null===(P=L.content)||void 0===P?void 0:null===(T=P.payment)||void 0===T?void 0:null===(I=T.category)||void 0===I?void 0:I.image),{CURRENCY:H}=(0,h.E)(),[G,W]=ei.useState(!1),K=(0,S.O)(e=>e.profile),J=(0,et.Gc)(),[Y,$]=ei.useState([[],[]]),X=["balance","qris","ewallet","va","cstore","transfer","pulsa","cc"],{data:Q,isLoading:ea,isError:en,isSuccess:es}=(0,m.I)({filter:"payment_channel.order_available:true"},{onSuccess:e=>{let t=e.reduce((e,t)=>{var a,n,i,s,l,r,o;return t.featured?(null===(a=t.type)||void 0===a?void 0:a.name)==="balance"?e[0].includes(null===(n=t.type)||void 0===n?void 0:n.name)||e[0].unshift(null===(i=t.type)||void 0===i?void 0:i.name):e[0].includes(null===(s=t.type)||void 0===s?void 0:s.name)||e[0].push(null===(l=t.type)||void 0===l?void 0:l.name):(e[1].includes(null===(r=t.type)||void 0===r?void 0:r.name)||e[1].push(null===(o=t.type)||void 0===o?void 0:o.name),e[1].sort((e,t)=>X.indexOf(e)-X.indexOf(t))),e},[[],[]]);$(t)}}),el=J.watch("variant"),er=J.watch("payment");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Card,{title:q("product:form.payment.title"),position:F,children:(0,n.jsxs)("dl",{className:"flex w-full flex-col space-y-4",children:[ea&&(0,n.jsx)(PaymentSkeleton,{}),en&&(0,n.jsx)("div",{className:"text-sm",children:q("common:error")}),es&&(0,n.jsx)(ei.Fragment,{children:Y.map((e,t)=>(0,n.jsx)(ei.Fragment,{children:e.map(e=>(0,n.jsxs)(ei.Fragment,{children:[0===t&&Q.filter(t=>{var a;return(null===(a=t.type)||void 0===a?void 0:a.name)===e&&t.featured}).length>0&&(0,n.jsx)("div",{children:(0,n.jsxs)(A.E,{value:er,onChange:e=>{var t;let a=(null===(t=e.type)||void 0===t?void 0:t.name)==="balance";if(a&&!K)return W(!0);J.setValue("payment",e),scrollToSection(F+1)},by:(e,t)=>e.code===t.code,children:[(0,n.jsx)(A.E.Label,{className:"sr-only",children:"Select a payment list"}),(0,n.jsx)("div",{className:"flex flex-col gap-4",children:Q.filter(t=>{var a;return(null===(a=t.type)||void 0===a?void 0:a.name)===e&&t.featured}).map(e=>{var t;let a=(null===(t=e.type)||void 0===t?void 0:t.name)==="balance";return(0,n.jsx)(A.E.Option,{value:e,disabled:!a&&checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).isAvailable,className:e=>{let{checked:t,disabled:a}=e;return(0,ef.cn)(["relative flex cursor-pointer rounded-lg border border-transparent bg-muted p-2.5 text-muted-foreground shadow-sm outline-none duration-300 hover:ring-2 hover:ring-primary md:px-5 md:py-3",t&&"bj-shadow selected-item ring-2 ring-primary",a&&"opacity-50",E&&"bg-payment-card-background",M&&"bg-payment-card-image bg-cover bg-center bg-no-repeat"])},children:t=>{var i,s,l,r,o,d;let{checked:c}=t;return(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[e.image&&(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:e.image,alt:"",className:"max-h-12"})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"block text-xs font-semibold sm:text-sm",children:e.name})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"relative mr-8 text-xs font-semibold sm:text-base",children:checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).isAvailable?(0,n.jsx)("span",{className:"text-xs text-destructive",children:null!==(l=checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).message)&&void 0!==l?l:"Unavailable"}):(0,eE.lb)(getTotalAmount(e.feeAmount,String(e.feePercentage),null!==(s=null==el?void 0:el.price)&&void 0!==s?s:0,J.watch("quantity"),J.watch("promo.amount"))||0,H)})}),e.featured&&(0,n.jsx)(eU.V,{size:"small",color:"primary",children:"Best Price"})]}),!a&&(0,n.jsxs)("div",{className:"flex w-full flex-col items-start justify-between py-1 md:flex-row md:items-center",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(A.E.Label,{as:"span",className:(0,ef.cn)(["block pb-2.5 text-xs font-semibold sm:text-sm",V&&"text-payment-card-foreground"]),children:e.name}),(0,n.jsx)("img",{src:e.image,alt:"Logo ".concat(e.name),className:(0,O.Z)(!c&&"","max-h-6")})]}),(0,n.jsx)("div",{className:"mt-3 w-full md:mt-0",children:(0,n.jsx)("div",{className:(0,O.Z)(c&&"text-primary","relative mr-8 text-sm font-semibold sm:text-base","w-full rounded-md border border-dashed py-1 text-center","md:w-auto md:border-none md:text-right",V&&"text-payment-card-foreground"),children:checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).isAvailable?(0,n.jsx)("span",{className:"text-xs text-destructive",children:null!==(d=checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).message)&&void 0!==d?d:"Unavailable"}):(0,eE.lb)(["pulsa"].includes((null===(i=e.type)||void 0===i?void 0:i.name)||"")?getTotalAmount(e.feeAmount,String(e.feePercentage),null!==(r=null==el?void 0:el.price)&&void 0!==r?r:0,J.watch("quantity"),J.watch("promo.amount"))/1e3*1e3:getTotalAmount(e.feeAmount,String(e.feePercentage),null!==(o=null==el?void 0:el.price)&&void 0!==o?o:0,J.watch("quantity"),J.watch("promo.amount"))||0,H)})}),e.featured&&(0,n.jsx)(eU.V,{size:"small",color:"primary",children:"Best Price"})]})]})}},e.id)})})]})}),1===t&&Q.filter(t=>{var a;return(null===(a=t.type)||void 0===a?void 0:a.name)===e&&!t.featured}).length>0&&(0,n.jsx)(z.p,{as:"div",className:(0,ef.cn)(["flex w-full transform flex-col justify-between rounded-xl bg-background/50 text-left text-sm font-medium duration-300 focus:outline-none",_&&"bg-payment-category-background",U&&"bg-payment-category-image bg-cover bg-center bg-no-repeat"]),children:t=>{let{open:a}=t;return(0,n.jsxs)("div",{children:[(0,n.jsx)(z.p.Button,{as:"button",className:(0,ef.cn)(["w-full rounded-t-xl bg-card text-card-foreground disabled:opacity-75",R&&"text-payment-category-foreground",Z&&"bg-payment-category-header"]),disabled:!(null==el?void 0:el.code),children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between px-4 py-2",children:[(0,n.jsx)("span",{className:"transform text-sm/6 font-medium leading-7 duration-300",children:getTitlePayment(e)}),(0,n.jsx)("span",{className:"ml-6 flex h-7 items-center",children:(0,n.jsx)(D,{className:(0,ef.cn)("h-5 w-5 transform duration-300",a?"rotate-180":""),"aria-hidden":"true"})})]})}),(0,n.jsx)(C.u,{show:a,className:"overflow-hidden",enter:"transition transition-[max-height] duration-700 ease-in-out",enterFrom:"transform max-h-0",enterTo:"transform max-h-screen",leave:"transition transition-[max-height] duration-700 ease-in-out",leaveFrom:"transform max-h-screen",leaveTo:"transform max-h-0",children:(0,n.jsx)(z.p.Panel,{static:!0,as:"div",className:"px-4 pb-4 pt-2 text-sm",children:(0,n.jsxs)(A.E,{value:er,onChange:e=>{J.setValue("payment",e),scrollToSection(F+1)},by:(e,t)=>e.code===t.code,children:[(0,n.jsx)(A.E.Label,{className:"sr-only",children:"Select a payment list"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4 pt-2 sm:grid-cols-3 md:grid-cols-2 xl:grid-cols-3",children:Q.filter(t=>{var a;return(null===(a=t.type)||void 0===a?void 0:a.name)===e&&!t.featured}).map(e=>(0,n.jsx)(A.E.Option,{value:e,disabled:checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).isAvailable,className:e=>{let{checked:t,disabled:a}=e;return(0,ef.cn)(["relative flex cursor-pointer rounded-xl border border-transparent bg-muted shadow-sm outline-none duration-300 hover:ring-2 hover:ring-primary",t&&"bj-shadow selected-item ring-2 ring-primary",a&&"opacity-50",E&&"bg-payment-card-background",M&&"bg-payment-card-image bg-cover bg-center bg-no-repeat"])},children:t=>{var a,i,s,l;let{checked:r}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"flex w-full flex-col justify-between",children:(0,n.jsx)(A.E.Description,{as:"div",className:"flex w-full items-center justify-between",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"space-y-3 px-2 pb-1.5 pt-2 md:space-y-4 md:px-3 md:pt-3",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)("img",{src:e.image,alt:"Logo ".concat(e.name),className:"max-w-[60%] md:max-w-[80%]"})}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("div",{className:(0,ef.cn)("relative z-30 text-xs font-semibold leading-4 text-muted-foreground",r&&"text-muted-foreground",V&&"text-payment-card-foreground"),children:checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).isAvailable?(0,n.jsx)("span",{className:"text-destructive",children:null!==(l=checkAvailablePayment({amount:(null==el?void 0:el.price)||0,minAmount:e.minAmount,maxAmount:e.maxAmount,qty:J.watch("quantity"),currency:H}).message)&&void 0!==l?l:"Unavailable"}):(0,eE.lb)(["pulsa"].includes((null===(a=e.type)||void 0===a?void 0:a.name)||"")?getTotalAmount(e.feeAmount,String(e.feePercentage),null!==(i=null==el?void 0:el.price)&&void 0!==i?i:0,J.watch("quantity"),J.watch("promo.amount"))/1e3*1e3:getTotalAmount(e.feeAmount,String(e.feePercentage),null!==(s=null==el?void 0:el.price)&&void 0!==s?s:0,J.watch("quantity"),J.watch("promo.amount")),H)})})]}),(0,n.jsx)("div",{className:"border-t border-dashed border-muted-foreground/20 px-2 py-1 md:px-3",children:(0,n.jsx)(A.E.Label,{as:"span",className:"block truncate text-xxs italic text-muted-foreground",children:e.description})})]})})}),e.featured&&(0,n.jsx)(eU.V,{size:"small",color:"primary",children:"Best Price"})]})}},e.id))})]})})}),(0,n.jsx)(C.u,{show:!a,className:"overflow-hidden",enter:"transition transition-[max-height] duration-700 ease-in-out",enterFrom:"transform max-h-0",enterTo:"transform max-h-screen",leave:"transition transition-[max-height] duration-700 ease-in-out",leaveFrom:"transform max-h-screen",leaveTo:"transform max-h-0",children:(0,n.jsx)("div",{className:(0,ef.cn)(["w-full rounded-b-xl bg-muted px-4 py-3",B&&"bg-payment-category-footer"]),children:(0,n.jsx)("div",{className:"flex justify-end gap-x-2",children:Q.filter(t=>{var a;return(null===(a=t.type)||void 0===a?void 0:a.name)===e&&!t.featured}).map(e=>(0,n.jsx)("div",{className:"relative aspect-[6/2] w-10",children:(0,n.jsx)(eA.J,{src:e.image,alt:"Logo ".concat(e.name),priority:!0,fill:!0,sizes:"80vw",className:"object-scale-down"})},e.code))})})})]})}})]},e))},t))})]})}),(0,n.jsx)(ModalSignInAlert,{show:G,onClose:()=>W(!1),config:L})]})},FormPromo=e=>{var t,a,i,s,l;let{position:r,product:o,config:d}=e,{t:c}=(0,ee.$G)(["common","product"]),u=(0,S.O)(e=>e.profile),m=(0,et.Gc)(),{CURRENCY:x,REGION:v}=(0,h.E)(),p=tt(e=>e.setErrorMessage),g=usePromo({onSuccess:e=>{var t,a;m.setValue("promo.amount",null!==(a=null===(t=e.data)||void 0===t?void 0:t.discountAmount)&&void 0!==a?a:0),ea.Am.success(c("product:success.promo-available"))},onError:e=>{if(e.response){var t;p(!0,null===(t=e.response)||void 0===t?void 0:t.data.message)}else p(!0,c("product:error.oops"))}}),f=m.handleSubmit(e=>{var t,a,n;g.mutate({region:v.toUpperCase(),variantCode:null!==(t=e.variant.code)&&void 0!==t?t:"",paymentCode:null!==(a=e.payment.code)&&void 0!==a?a:"",promoCode:null!==(n=e.promo.code)&&void 0!==n?n:"",quantity:e.quantity,inputs:e.input.map(e=>({value:e.value}))})},e=>{var t,a,n,i,s,l;let r=Object.keys(e).sort((e,t)=>{var a,n,i,s,l,r,o,c;return(null!==(o=null==d?void 0:null===(i=d.content)||void 0===i?void 0:null===(n=i.order)||void 0===n?void 0:null===(a=n.alignment)||void 0===a?void 0:a.indexOf(e))&&void 0!==o?o:0)-(null!==(c=null==d?void 0:null===(r=d.content)||void 0===r?void 0:null===(l=r.order)||void 0===l?void 0:null===(s=l.alignment)||void 0===s?void 0:s.indexOf(t))&&void 0!==c?c:0)})[0],c=(null!==(s=null==d?void 0:null===(n=d.content)||void 0===n?void 0:null===(a=n.order)||void 0===a?void 0:null===(t=a.alignment)||void 0===t?void 0:t.filter(e=>{if("input"===e)return o.useInput;if("contact"===e){var t,a;return!u&&((null===(t=d.feature)||void 0===t?void 0:t.contactWhatsapp)||(null===(a=d.feature)||void 0===a?void 0:a.contactEmail))}return"promo"!==e||void 0===u||(null==u?void 0:u.membership)==="member"}).indexOf(r))&&void 0!==s?s:0)+1;ea.Am.error(null!==(l=null===(i=e[r])||void 0===i?void 0:i.message)&&void 0!==l?l:""),scrollToSection(c)}),handleCancelUsePromo=()=>{m.setValue("promo",{code:"",amount:0}),g.reset(),ea.Am.success("Berhasil membatalkan promo")};return(0,n.jsx)(Card,{title:c("product:form.promo.title"),position:r,children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(ek.II,{placeholder:c("product:form.promo.placeholder"),...m.register("promo.code")})}),(0,n.jsx)(ep.z,{type:"button",size:"sm",onClick:()=>f(),isLoading:g.isLoading,children:c("product:form.promo.button")})]}),g.data&&(0,n.jsx)(n.Fragment,{children:(null===(t=g.data)||void 0===t?void 0:t.code)===200&&(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)(eQ.C,{variant:"success",shape:"square",className:"flex-1 py-2",children:[c("product:discount"),": ",(0,eE.lb)(null!==(s=null===(i=g.data)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.discountAmount)&&void 0!==s?s:0,x)]}),(0,n.jsx)("div",{children:(0,n.jsx)(ep.z,{type:"button",variant:"outline-destructive",id:"cancel-promo",size:"icon-sm",className:"bg-transparent",onClick:()=>handleCancelUsePromo(),children:(0,n.jsx)(Y.Z,{className:"h-4 w-4"})})})]})}),(0,n.jsx)("div",{children:(0,n.jsx)(modal_coupon_list,{code:null!==(l=m.watch("promo.code"))&&void 0!==l?l:"",handleCode:e=>{m.setValue("promo.code",e),f()},productId:"".concat(o.id),children:e=>{let{openModal:t,isLoading:a}=e;return(0,n.jsxs)(ep.z,{type:"button",size:"sm",className:"gap-2 pl-3",onClick:()=>t("".concat(o.id)),isLoading:a,children:[(0,n.jsx)($.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:c("product:form.promo.promo-available")})]})}})})]})})},FormContact=e=>{var t,a,i,s,l,r;let{config:o,locale:d,position:c}=e,{t:u}=(0,ee.$G)(["common","product"]),m=null!==(l=null==d?void 0:d.split("-")[1])&&void 0!==l?l:"id",x=(0,et.Gc)(),v=null!==(r=x.watch("contact.phoneNumber"))&&void 0!==r?r:"";return(0,n.jsx)(Card,{title:u("product:form.wa.title"),position:c,children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(null==o?void 0:null===(t=o.feature)||void 0===t?void 0:t.contactEmail)&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(eS._,{value:u("product:form.email.label")}),(0,n.jsx)(ek.II,{placeholder:u("product:form.email.placeholder"),...x.register("contact.email")})]}),(null==o?void 0:null===(a=o.feature)||void 0===a?void 0:a.contactWhatsapp)&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(eS._,{value:u("product:form.wa.label")}),(0,n.jsx)(ez.s,{placeholder:"628XXXXXXXXXX",defaultCountry:m.toUpperCase(),international:!0,value:v,onChange:e=>{x.setValue("contact.phoneNumber",e)}}),(0,n.jsx)("span",{className:"text-xxs italic text-card-foreground",children:u("product:form.wa.helper")})]}),(null==o?void 0:null===(i=o.feature)||void 0===i?void 0:i.contactInformation)&&(0,n.jsxs)("p",{className:"flex items-center gap-2 rounded-md bg-card px-4 py-2.5 text-xs/6 text-card-foreground",children:[(0,n.jsx)(W.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:null==o?void 0:null===(s=o.feature)||void 0===s?void 0:s.contactInformation})]})]})})},Summary=e=>{var t,a,i,s,l,r,o,d,c,u,m,x,v,p,g,f,j;let{product:y,isLoading:b}=e,{t:w}=(0,ee.$G)(["common","product"]),k=(0,et.Gc)(),S=k.watch("variant"),A=k.watch("payment"),z=k.watch("promo"),C=k.watch("quantity"),{CURRENCY:I}=(0,h.E)();return(0,n.jsxs)("div",{className:"hidden space-y-4 lg:block",children:[(0,n.jsx)("div",{className:"rounded-lg border border-dashed bg-secondary text-sm text-secondary-foreground",children:(null==S?void 0:S.code)?(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2 p-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 pb-2",children:[(0,n.jsx)("div",{className:"aspect-square h-16",children:(0,n.jsx)(eA.J,{src:y.thumbnail,alt:y.title,className:"aspect-square h-16 rounded-sm object-cover",width:300,height:300})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:y.title}),(0,n.jsx)("div",{className:"mt-1",children:S.name})]})]}),A.code&&(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Metode Pembayaran"}),(0,n.jsx)("div",{className:"text-sm/6",children:A.name})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Harga"}),(0,n.jsx)("div",{className:"text-sm/6",children:(0,n.jsx)(M.ZP,{value:null!==(s=S.price)&&void 0!==s?s:0,format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Jumlah Pembelian"}),(0,n.jsx)("div",{className:"text-sm/6",children:C})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Biaya"}),(0,n.jsx)("div",{className:"flex items-center gap-2 text-sm/6",children:(0,n.jsx)(M.ZP,{value:getFee(null!==(l=A.feeAmount)&&void 0!==l?l:0,null!==(r=A.feePercentage)&&void 0!==r?r:0,(null!==(o=S.price)&&void 0!==o?o:0)*C),format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),(null!==(d=z.amount)&&void 0!==d?d:0)>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Diskon"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm/6",children:[(0,n.jsxs)("span",{children:["(",z.code,")"]}),(0,n.jsx)(M.ZP,{value:-(null!==(c=z.amount)&&void 0!==c?c:0),className:"text-success",format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})]})]}),(0,n.jsx)(e1.Z,{className:"my-1"}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-lg font-bold",children:"Total Pembayaran"}),(0,n.jsx)("div",{className:"text-lg/6 font-semibold text-primary",children:(0,n.jsx)(M.ZP,{value:["pulsa"].includes((null===(t=A.type)||void 0===t?void 0:t.name)||"")?getTotalAmount(null!==(u=null==A?void 0:A.feeAmount)&&void 0!==u?u:0,String(null!==(m=null==A?void 0:A.feePercentage)&&void 0!==m?m:0),null!==(x=null==S?void 0:S.price)&&void 0!==x?x:0,k.watch("quantity"),null!==(v=z.amount)&&void 0!==v?v:0)/1e3*1e3:getTotalAmount(null!==(p=null==A?void 0:A.feeAmount)&&void 0!==p?p:0,String(null!==(g=null==A?void 0:A.feePercentage)&&void 0!==g?g:0),null!==(f=null==S?void 0:S.price)&&void 0!==f?f:0,k.watch("quantity"),null!==(j=z.amount)&&void 0!==j?j:0),format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),((null===(a=A.code)||void 0===a?void 0:a.toUpperCase().includes("OVO"))||(null===(i=A.type)||void 0===i?void 0:i.name)==="pulsa")&&(0,n.jsx)("div",{className:"mt-2 rounded-sm border p-2",children:(0,n.jsxs)("p",{className:"text-xxs/4 italic before:text-destructive before:content-['**_']",children:["Peringatan! No WhatsApp yg diisi harus sama dg No ",null==A?void 0:A.name," yg akan digunakan untuk bayar."]})})]}):(0,n.jsx)("div",{className:"flex h-[98px] items-center justify-center text-center",children:w("product:no-selected-item")})}),(0,n.jsxs)(ep.z,{type:"submit",size:"sm",className:"w-full gap-2",isLoading:b,children:[(0,n.jsx)(N.sM,{}),(0,n.jsx)("span",{children:w("product:order-now")})]})]})},SummaryMobile=e=>{var t,a,i,s,l,r,o,d,c,u,m,x,v,p,g,f,j;let{product:y,isLoading:b}=e,{t:w}=(0,ee.$G)(["common","product"]),k=(0,et.Gc)(),S=k.watch("variant"),A=k.watch("payment"),z=k.watch("promo"),C=k.watch("quantity"),{CURRENCY:I}=(0,h.E)();return(0,n.jsxs)("div",{className:"fixed inset-x-0 bottom-0 z-40 block w-full space-y-4 rounded-t-md bg-secondary p-4 lg:hidden",children:[(0,n.jsx)("div",{className:"rounded-lg border border-dashed bg-secondary text-sm text-secondary-foreground",children:(null==S?void 0:S.code)?(0,n.jsx)(eJ,{type:"multiple",children:(0,n.jsxs)(eY,{value:"summary",className:"flex w-full flex-col gap-2 px-3 py-2",children:[(0,n.jsx)(e$,{className:"py-0",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"aspect-square h-10",children:(0,n.jsx)(eA.J,{src:S.image||y.thumbnail,alt:y.title,className:"aspect-square h-10 rounded-sm object-cover",width:300,height:300})}),(0,n.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,n.jsx)("div",{className:"text-xs font-semibold",children:y.title}),(0,n.jsx)("div",{className:"mt-1 text-xs",children:S.name})]})]})}),(0,n.jsxs)(eX,{className:"pb-0",children:[A.code&&(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Metode Pembayaran"}),(0,n.jsx)("div",{className:"text-xs/6",children:A.name})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Harga"}),(0,n.jsx)("div",{className:"text-xs/6",children:(0,n.jsx)(M.ZP,{value:null!==(s=S.price)&&void 0!==s?s:0,format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Jumlah Pembelian"}),(0,n.jsx)("div",{className:"text-xs/6",children:C})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Biaya "}),(0,n.jsx)("div",{className:"flex items-center gap-2 text-xs/6",children:(0,n.jsx)(M.ZP,{value:getFee(null!==(l=A.feeAmount)&&void 0!==l?l:0,null!==(r=A.feePercentage)&&void 0!==r?r:0,(null!==(o=S.price)&&void 0!==o?o:0)*C),format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),(null!==(d=z.amount)&&void 0!==d?d:0)>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:"Diskon"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-xs/6",children:[(0,n.jsxs)("span",{children:["(",z.code,")"]}),(0,n.jsx)(M.ZP,{value:-(null!==(c=z.amount)&&void 0!==c?c:0),className:"text-success",format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})]})]}),(0,n.jsx)(e1.Z,{className:"my-1"}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"text-sm font-bold",children:"Total Pembayaran"}),(0,n.jsx)("div",{className:"text-sm/6 font-semibold text-primary",children:(0,n.jsx)(M.ZP,{value:["pulsa"].includes((null===(t=A.type)||void 0===t?void 0:t.name)||"")?getTotalAmount(null!==(u=null==A?void 0:A.feeAmount)&&void 0!==u?u:0,String(null!==(m=null==A?void 0:A.feePercentage)&&void 0!==m?m:0),null!==(x=null==S?void 0:S.price)&&void 0!==x?x:0,k.watch("quantity"),null!==(v=z.amount)&&void 0!==v?v:0)/1e3*1e3:getTotalAmount(null!==(p=null==A?void 0:A.feeAmount)&&void 0!==p?p:0,String(null!==(g=null==A?void 0:A.feePercentage)&&void 0!==g?g:0),null!==(f=null==S?void 0:S.price)&&void 0!==f?f:0,k.watch("quantity"),null!==(j=z.amount)&&void 0!==j?j:0),format:{style:"currency",currency:I,maximumFractionDigits:"IDR"===I?0:2,currencyDisplay:"narrowSymbol"}})})]}),((null===(a=A.code)||void 0===a?void 0:a.toUpperCase().includes("OVO"))||(null===(i=A.type)||void 0===i?void 0:i.name)==="pulsa")&&(0,n.jsx)("div",{className:"mt-2 rounded-sm border p-2",children:(0,n.jsxs)("p",{className:"text-xxs/4 italic before:text-destructive before:content-['**_']",children:["Peringatan! No WhatsApp yg diisi harus sama dg No ",null==A?void 0:A.name," yg akan digunakan untuk bayar."]})})]})]})}):(0,n.jsx)("div",{className:"flex h-[4em] items-center justify-center text-center text-xs",children:w("product:no-selected-item")})}),(0,n.jsxs)(ep.z,{type:"submit",size:"sm",className:"w-full gap-2",isLoading:b,children:[(0,n.jsx)(N.sM,{}),(0,n.jsx)("span",{children:w("product:order-now")})]})]})};var tn=!0,ti=(0,e8.Z)(e=>{var t,i,s,r,d,c,m,v,p,g,j,y,N,w,A,z,C,I,q,E,D,M,Z,B;let{product:H,config:G,headers:W,slug:K,locale:J}=e,Y=(0,S.O)(e=>e.profile),$=(0,S.O)(e=>e.setProfile),[X,Q]=ei.useState("transaction"),en=(0,ed.useRouter)(),es=(0,e7.Ad)(),er=(0,e7.m7)(),ec=(0,et.cI)({resolver:(0,V.F)(k),defaultValues:{variant:{},useInput:H.useInput,input:H.inputs.map(e=>({name:(0,e9.Hk)(e.name),title:e.title,value:"",type:e.type,options:e.options,maxLength:e.maxLength,minLength:e.minLength,regexValidation:e.regexValidation,placeholder:e.placeholder})),quantity:1,payment:{},promo:{code:"",amount:0},usePhoneNumber:null!==(D=null===(t=G.feature)||void 0===t?void 0:t.contactWhatsapp)&&void 0!==D&&D,usePhoneNumberMandatory:null!==(M=null===(i=G.feature)||void 0===i?void 0:i.contactWhatsappMandatory)&&void 0!==M&&M,useEmail:null!==(Z=null===(s=G.feature)||void 0===s?void 0:s.contactEmail)&&void 0!==Z&&Z,useEmailMandatory:null!==(B=null===(r=G.feature)||void 0===r?void 0:r.contactEmailMandatory)&&void 0!==B&&B,contact:{phoneNumber:"",email:""}}});ei.useEffect(()=>{H&&(ec.setValue("useInput",H.useInput),ec.setValue("input",H.inputs.map(e=>({name:(0,e9.Hk)(e.name),title:e.title,value:"",type:e.type,options:e.options,maxLength:e.maxLength,minLength:e.minLength,regexValidation:e.regexValidation,placeholder:e.placeholder}))))},[H.handle]),ei.useEffect(()=>{Y&&(Y.email&&ec.setValue("contact.email",Y.email),Y.phoneNumber&&ec.setValue("contact.phoneNumber","+".concat(Y.phoneNumber)))},[Y]),ei.useEffect(()=>{var e;(null==G?void 0:null===(e=G.analytic)||void 0===e?void 0:e.facebook)&&window.fbq&&window.fbq("track","ViewContent")},[H.handle]);let{t:em}=(0,ee.$G)(["common","product","review"]),{CURRENCY:ex,REGION:ev}=(0,h.E)(),[eh,eg]=ei.useState({open:!1,response:null}),[ej,ey]=ei.useState(!1),[eb,eN]=ei.useState([]),[ew,ek]=ei.useState(0),[eS,ez]=ei.useState({open:!1,token:"",isLoading:!1}),eT=!!(null==G?void 0:null===(c=G.content)||void 0===c?void 0:null===(d=c.order)||void 0===d?void 0:d.header),eP=!!(null==G?void 0:null===(v=G.content)||void 0===v?void 0:null===(m=v.order)||void 0===m?void 0:m.headerForeground),eF=!!(null==G?void 0:null===(g=G.content)||void 0===g?void 0:null===(p=g.order)||void 0===p?void 0:p.headerImage),showFirework=()=>{let e=Date.now()+5e3,t={startVelocity:30,spread:360,ticks:60,zIndex:0},randomInRange=(e,t)=>Math.random()*(t-e)+e,a=window.setInterval(()=>{let n=e-Date.now();if(n<=0)return clearInterval(a);let i=50*(n/5e3);(0,_.Z)({...t,particleCount:i,zIndex:9999,origin:{x:randomInRange(.1,.3),y:Math.random()-.2}}),(0,_.Z)({...t,particleCount:i,zIndex:9999,origin:{x:randomInRange(.7,.9),y:Math.random()-.2}})},250)},eL=(0,u.I3)({onSuccess:e=>{eg({open:!0,response:e}),showFirework();try{let t=H.code,a=(null==e?void 0:e.userName)||"",n=(ec.getValues("input")||[]).map(e=>({label:e.name,value:e.value})),i={};try{i=JSON.parse(localStorage.getItem("saved-inputs"))||{}}catch(e){i={}}i[ev]||(i[ev]={}),i[ev][t]||(i[ev][t]=[]),i[ev][t]=i[ev][t].filter(e=>e.inputs.length!==n.length||e.inputs.some((e,t)=>e.label!==n[t].label||e.value!==n[t].value)),i[ev][t].unshift({nickname:a,inputs:n}),i[ev][t]=i[ev][t].slice(0,1e3),localStorage.setItem("saved-inputs",JSON.stringify(i))}catch(e){}},onError:e=>{var t;eK(!0,null===(t=e.response)||void 0===t?void 0:t.data.message)}}),eq=(0,u.QE)({onSuccess:async e=>{if("CONFIRM"===e.step)ez(t=>({...t,open:!0,token:null==e?void 0:e.token}));else if("SUCCESS"===e.step){var t,a,n,i,s,r;eg({open:!1,response:null}),(null==G?void 0:null===(t=G.analytic)||void 0===t?void 0:t.facebook)&&window.fbq&&window.fbq("track","AddToCart",{content_category:null===(n=e.order)||void 0===n?void 0:n.productName,content_name:null===(i=e.order)||void 0===i?void 0:i.variantName,contents:[{id:null===(s=e.order)||void 0===s?void 0:s.productCode,quantity:ec.watch("quantity")}],currency:ec.watch("variant.currency"),value:ec.watch("variant.price")},{eventID:null===(r=e.order)||void 0===r?void 0:r.invoiceNumber});let o=new URL(window.location.href);if(en.push("/invoices/".concat(null===(a=e.order)||void 0===a?void 0:a.invoiceNumber).concat(o.search)),ea.Am.success(em("product:success.purchase")),null==Y?void 0:Y.username){let{data:e}=await l.h.get("/profile");$(e.data)}}},onError:e=>{var t;eg({open:!1,response:null}),eK(!0,null===(t=e.response)||void 0===t?void 0:t.data.message)}}),eE=(0,o.AR)({onSuccess:async e=>{var t;let{data:a}=e,i=new URL(window.location.href);if(en.push("/invoices/".concat(null==a?void 0:null===(t=a.order)||void 0===t?void 0:t.invoiceNumber).concat(i.search)),ea.Am.custom(e=>(0,n.jsx)(eG.K,{open:e.visible,handleClose:()=>ea.Am.dismiss(e.id),message:em("product:success.purchase")})),null==Y?void 0:Y.username){let{data:e}=await l.h.get("/profile");$(e.data)}},onError:e=>{if(ez(e=>({...e,isLoading:!1})),null==e?void 0:e.response){var t,a;return eK(!0,null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)}eK(!0,"Terjadi kesalahan, silahkan coba lagi")}});(0,x.B)(K,{onSuccess:e=>{eN(e.data);let t=(0,R.getCookie)("dont-show-product");!t&&e.data.length>0&&setTimeout(()=>{eM()},1e3)}});let eM=ei.useCallback(()=>{ey(!0),ek(0)},[]),e_=ei.useCallback(()=>{ey(!1),ek(0)},[]),eR=ei.useCallback(()=>{ek(e=>0===e?eb.length-1:e-1)},[eb.length]),eZ=ei.useCallback(()=>{ek(e=>e===eb.length-1?0:e+1)},[eb.length]);ei.useEffect(()=>{ej&&setTimeout(()=>{e_()},1e5)},[ej,e_]);let eU=tt(e=>e.open),eW=tt(e=>e.message),eK=tt(e=>e.setErrorMessage),eJ=ec.handleSubmit(async e=>{var t,a,n,i,s,l,r,o,d;for(let[t,a]of e.input.entries())if(a.regexValidation&&""!==a.regexValidation){let e=new RegExp(a.regexValidation);if(!e.test(a.value)){ec.setError("input.".concat(t,".value"),{type:"manual",message:"Format ".concat(a.title," tidak valid.")});let e=(null===(i=G.content)||void 0===i?void 0:null===(n=i.order)||void 0===n?void 0:n.alignment)||[],s=e.findIndex(e=>"input"===e);scrollToSection(s+1);return}}let c=W.referer||"".concat(null===(t=G.meta)||void 0===t?void 0:t.url,"/").concat(J,"/").concat(en.asPath),u=en.query.r||"",m={};try{m=JSON.parse(localStorage.getItem("recent-products"))||{}}catch(e){m={}}let x=m[ev]||[],v=x.find(e=>e.id===H.id);if(!v&&x.length<4)x.unshift(H);else{let e=x.findIndex(e=>e.id===H.id);-1!==e&&x.splice(e,1),x.unshift(H)}m[ev]=x.slice(0,4),localStorage.setItem("recent-products",JSON.stringify(m));let p={region:ev.toUpperCase(),variantCode:null!==(s=e.variant.code)&&void 0!==s?s:"",paymentCode:null!==(l=e.payment.code)&&void 0!==l?l:"",promoCode:null!==(r=e.promo.code)&&void 0!==r?r:"",quantity:e.quantity,inputs:e.input.map(e=>({value:e.value})),email:null!==(o=e.contact.email)&&void 0!==o?o:"",phoneNumber:null!==(d=null===(a=e.contact.phoneNumber)||void 0===a?void 0:a.replace("+",""))&&void 0!==d?d:"",r:Y?"":u,referer:c};eL.mutate({...p})},e=>{var t,a,n,i,s,l;let r=Object.keys(e).sort((e,t)=>{var a,n,i,s,l,r,o,d;return(null!==(o=null===(i=G.content)||void 0===i?void 0:null===(n=i.order)||void 0===n?void 0:null===(a=n.alignment)||void 0===a?void 0:a.indexOf(e))&&void 0!==o?o:0)-(null!==(d=null===(r=G.content)||void 0===r?void 0:null===(l=r.order)||void 0===l?void 0:null===(s=l.alignment)||void 0===s?void 0:s.indexOf(t))&&void 0!==d?d:0)})[0],o=(null!==(s=null===(n=G.content)||void 0===n?void 0:null===(a=n.order)||void 0===a?void 0:null===(t=a.alignment)||void 0===t?void 0:t.filter(e=>{var t,a;return"input"===e?H.useInput:"contact"===e?!Y&&((null===(t=G.feature)||void 0===t?void 0:t.contactWhatsapp)||(null===(a=G.feature)||void 0===a?void 0:a.contactEmail)):"promo"!==e||void 0===Y||(null==Y?void 0:Y.membership)==="member"}).indexOf(r))&&void 0!==s?s:0)+1;ea.Am.error(null!==(l=null===(i=e[r])||void 0===i?void 0:i.message)&&void 0!==l?l:""),scrollToSection(o)}),handleCreateOrderNow=()=>{var e;eq.mutate({validationToken:null===(e=eh.response)||void 0===e?void 0:e.validationToken,fcmToken:te})},eY=(0,f.a)("(min-width: 1024px)");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eH.H,{meta:{...G.meta,title:"Top Up ".concat(H.title," Termurah, Beli Harga Paling Murah"),subtitle:null===(j=G.meta)||void 0===j?void 0:j.title,description:removeHtmlTags((null===(y=H.meta)||void 0===y?void 0:y.description)||"").split(". ").at(0)||removeHtmlTags((null===(N=H.meta)||void 0===N?void 0:N.description)||"")}}),(null==G?void 0:null===(w=G.analytic)||void 0===w?void 0:w.tiktok)&&(0,n.jsx)(el(),{children:(0,n.jsx)("script",{id:"pixel-tiktok",children:'\n              !function (w, d, t) {\n                w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n\n                ttq.load(\''.concat(null==G?void 0:null===(A=G.analytic)||void 0===A?void 0:A.tiktok,"');\n                ttq.page();\n              }(window, document, 'ttq');\n            ")})}),(0,n.jsxs)(el(),{children:[(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:(()=>{var e,t,a;let n=8397*Number(H.id)+645,i="Top Up ".concat(H.title," Termurah, Beli Harga Paling Murah - ").concat(null===(e=G.meta)||void 0===e?void 0:e.title),s=removeHtmlTags((null===(t=H.meta)||void 0===t?void 0:t.description)||"");return'{"@context":"https://schema.org/","@type":"Product","aggregateRating":{"@type":"AggregateRating","ratingValue":4.9,"reviewCount":'.concat(n,'},"name":"').concat(i,'","description":"').concat(s,'","review":{"@type":"Review","author":{"@type":"Person","name":"').concat(null==G?void 0:null===(a=G.meta)||void 0===a?void 0:a.title,'"},"reviewRating":{"@type":"Rating","bestRating":5,"ratingValue":4}}}')})()}}),(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:(()=>{var e,t;let a=null!=J?J:"id";return'{"@context":"https://schema.org/","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"'.concat(null===(e=G.meta)||void 0===e?void 0:e.url,"/").concat(a,'"},{"@type":"ListItem","position":2,"name":"').concat(H.title,'","item":"').concat(null===(t=G.meta)||void 0===t?void 0:t.url,"/").concat(a,"/").concat(H.handle,'"}]}')})()}})]}),H.banner?(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(eo(),{src:H.banner,alt:H.title,width:1280,height:1280,priority:!0,className:"min-h-56 w-full bg-muted object-cover object-center lg:object-contain",quality:100}),es&&(0,n.jsx)(eV.to,{className:"absolute inset-0 w-full",showShowMan:!1}),er&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eO.z,{className:"absolute inset-0 w-full"}),(0,n.jsx)(eo(),{src:a(46497).Z,alt:"",className:"absolute inset-x-0 bottom-0 w-full bg-bottom"})]})]}):(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"min-h-56 w-full bg-muted lg:h-[340px]"}),es&&(0,n.jsx)(eV.to,{className:"absolute inset-0 w-full",showShowMan:!1})]}),(0,n.jsx)("section",{"aria-labelledby":"main-title",className:(0,O.Z)(["bg-title-product flex min-h-32 w-full items-center border-b bg-transparent lg:min-h-[160px]",eT&&"bg-order-header-background",eP&&"text-order-header-foreground",eF&&"border-none bg-order-header-image bg-cover bg-center"]),children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex items-start gap-4",children:(0,n.jsx)("div",{className:"product-thumbnail-container relative -top-16 md:-top-28",children:(0,n.jsx)(eA.J,{src:H.thumbnail,alt:"",className:"z-20 -mb-14 aspect-square w-32 rounded-2xl object-cover shadow-2xl md:-mb-20 md:w-60",width:300,height:300})})}),(0,n.jsxs)("div",{className:"py-4 sm:py-0",children:[(0,n.jsx)("h1",{id:"main-title",className:"text-xs font-bold uppercase leading-7 tracking-wider sm:text-lg",children:H.title}),(0,n.jsx)("p",{className:"text-xs font-medium sm:text-base/6",children:H.publisher||"N/A Publisher"}),(0,n.jsxs)("div",{className:"mt-4 hidden gap-2 text-xs md:flex",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(62764),alt:"",className:"size-8"}),(0,n.jsx)("span",{className:"text-xs/7 font-medium",children:em("product:instant")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(91650),alt:"",className:"size-8"}),(0,n.jsx)("span",{className:"text-xs/7 font-medium",children:em("product:support")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(80626),alt:"",className:"ml-1.5 mr-0.5 size-5"}),(0,n.jsx)("span",{className:"text-xs/7 font-medium",children:em("product:secure")})]})]})]})]}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-evenly gap-2 md:hidden",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(62764),alt:"",className:"size-6 md:size-8"}),(0,n.jsx)("span",{className:"text-[10px] font-medium",children:em("product:instant")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(91650),alt:"",className:"size-6 md:size-8"}),(0,n.jsx)("span",{className:"text-[10px] font-medium",children:em("product:support")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(eo(),{src:a(80626),alt:"",className:"ml-1 mr-0.5 size-4 md:size-8"}),(0,n.jsx)("span",{className:"text-[10px] font-medium",children:em("product:secure")})]})]})]})}),(null===(z=G.meta)||void 0===z?void 0:z.title)==="TAKAPEDIA"&&(0,n.jsx)("div",{className:"container mt-8",children:(0,n.jsx)("div",{className:"flex flex-grow flex-wrap items-center justify-start gap-x-4 rounded-lg bg-card/50 px-4 py-1 shadow-2xl md:justify-center",children:[{title:"Jaminan Layanan",icon:(0,n.jsx)(T,{className:"text-primary-500 h-4 w-4"})},{title:"Jaminan Layanan 24 Jam",icon:(0,n.jsx)(P,{className:"text-primary-500 h-4 w-4"})},{title:"Pembayaran Aman & Terpercaya",icon:(0,n.jsx)(F,{className:"text-primary-500 h-4 w-4"})},{title:"Proses Cepat & Otomatis",icon:(0,n.jsx)(L,{className:"text-primary-500 h-4 w-4"})}].map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-start gap-2 py-2",children:[(0,n.jsx)("span",{children:e.icon}),(0,n.jsx)("span",{className:"text-text-color whitespace-nowrap text-xs font-semibold",children:e.title})]},t))})}),(0,n.jsx)(et.RV,{...ec,children:(0,n.jsxs)(e4,{onValueChange:e=>{Q(e)},value:X,className:"mt-4 lg:mt-8",children:[(0,n.jsxs)("div",{className:"container flex w-full flex-col gap-4 lg:hidden",children:[Y&&(0,n.jsx)(AffiliateButton,{}),(0,n.jsxs)(e5,{className:"flex w-full",children:[(0,n.jsx)(e3,{value:"transaction",className:"w-full",children:em("product:transaction")}),(0,n.jsx)(e3,{value:"details",className:"w-full",children:em("product:detail")})]})]}),(0,n.jsx)("div",{className:(0,ef.cn)("mt-0 lg:block","transaction"!==X&&"hidden"),children:(0,n.jsx)(FormTransaction,{locale:J||"id-id",product:H,onSubmit:eJ,images:eb,isLoading:eL.isLoading,onOpenImage:eM})}),(0,n.jsx)("div",{className:(0,ef.cn)("mt-0 lg:block","details"!==X&&"hidden"),children:(0,n.jsx)(Details,{product:H})})]})}),(0,n.jsx)(eI.u,{show:eU,maxWidth:"md",closeable:!1,children:(0,n.jsxs)("div",{className:"flex w-full flex-col gap-4 px-4 pb-4",children:[(0,n.jsx)("div",{className:"-mb-20 -mt-14 flex justify-center",children:(0,n.jsx)(U(),{animationData:b,loop:!1,style:{width:240,height:240}})}),(0,n.jsx)("div",{className:"text-center text-sm/6 font-medium",children:em("common:transaction-canceled")}),(0,n.jsx)("div",{className:"text-center text-sm/6 font-medium",children:eW}),(0,n.jsx)(ep.z,{type:"button",className:"w-full",onClick:()=>{eK(!1)},children:"Ok"}),(0,n.jsxs)("div",{className:"text-center text-sm/6",children:["Butuh Bantuan?"," ",(0,n.jsx)(eC.r,{href:"/contact-us",className:"font-semibold text-primary",children:"Hubungi Kami"})]})]})}),(0,n.jsx)(ModalInquiry,{show:eh.open,onClose:()=>eg({open:!1,response:null}),handleCreateOrder:()=>{handleCreateOrderNow()},isLoading:eq.isLoading,children:eh.response?(0,n.jsxs)("div",{className:"my-4 grid grid-cols-3 gap-3 rounded-md bg-secondary/50 p-4 text-left text-sm text-secondary-foreground",children:[eh.response.userName&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"line-clamp-1",children:"Username"}),(0,n.jsx)("div",{className:"col-span-2 truncate",children:eh.response.userName})]}),eh.response.inputs.map(e=>{var t,a,i,s,l,r;return(0,n.jsxs)(ei.Fragment,{children:[(0,n.jsx)("div",{className:"line-clamp-1",children:null!==(r=null===(t=e.input)||void 0===t?void 0:t.title)&&void 0!==r?r:null===(a=e.input)||void 0===a?void 0:a.name}),(0,n.jsx)("div",{className:"col-span-2 truncate",children:(null===(i=e.input)||void 0===i?void 0:i.type)==="select"?null===(s=e.input.options.find(t=>t.value===e.value))||void 0===s?void 0:s.title:e.value})]},null===(l=e.input)||void 0===l?void 0:l.name)}),(0,n.jsx)("div",{className:"line-clamp-1",children:"Item"}),(0,n.jsx)("div",{className:"col-span-2 truncate",children:eh.response.variantName}),(0,n.jsx)("div",{className:"line-clamp-1",children:"Product"}),(0,n.jsx)("div",{className:"col-span-2 truncate",children:eh.response.productName}),(0,n.jsx)("div",{className:"line-clamp-1",children:"Payment"}),(0,n.jsx)("div",{className:"col-span-2 truncate",children:eh.response.paymentName})]}):(0,n.jsx)("div",{className:"h-[265px] rounded-md bg-background"})}),(0,n.jsx)(eD.q,{kuki:"dont-show-product",isOpen:ej,images:eb,currentImage:ew,handleNext:eZ,handlePrevious:eR,handleClose:e_}),(0,n.jsx)(eu.w,{show:eS.open,mutate:e=>{ez(e=>({...e,isLoading:!0})),eE.mutate({token:eS.token,passcode:e})},onClose:()=>{ez(e=>({...e,open:!1}))},isLoading:eS.isLoading}),eY&&(null===(I=G.feature)||void 0===I?void 0:null===(C=I.liveTransaction)||void 0===C?void 0:C.isActive)&&(null===(E=G.feature)||void 0===E?void 0:null===(q=E.liveTransaction)||void 0===q?void 0:q.showNotification)&&(0,n.jsx)(eB.$,{})]})},"optional",ec.Z)}},function(e){e.O(0,[296,4885,5006,1327,8136,9573,5851,3524,1530,3409,1353,7542,8093,8738,2758,5709,8095,5092,5522,9774,2888,179],function(){return e(e.s=9104)}),_N_E=e.O()}]);
